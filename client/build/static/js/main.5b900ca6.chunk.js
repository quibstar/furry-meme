(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{237:function(e,t,a){},257:function(e){e.exports=[{location:"Dashboard",url:"/dashboard"},{location:"Budgets",url:"/budgets"},{location:"Debts",url:"/debts"},{location:"Lists",url:"/lists"},{location:"Tasks",url:"/tasks"},{location:"Categories",url:"/categories"},{location:"Inventory",url:"/inventory"},{location:"Account",url:"/account"},{location:"Users",url:"/Users"}]},263:function(e,t,a){e.exports=a(542)},268:function(e,t,a){},279:function(e,t,a){},420:function(e,t,a){},501:function(e,t,a){},503:function(e,t,a){},513:function(e,t,a){},515:function(e,t,a){},517:function(e,t,a){},539:function(e,t,a){},542:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(15),i=a.n(s),o=(a(268),a(130),a(33)),l=(a(46),a(9)),c=a(10),u=a(11),m=a(13),d=a(12),p=a(14),h=(a(193),a(75)),f=a(544),g=a(547),b=a(546),v=a(79),y=(a(279),function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("h1",null,"Dashboard")}}]),t}(n.Component)),E=(a(72),a(37)),w=(a(53),a(20)),k=(a(58),a(23)),j=(a(73),a(41)),S=(a(54),a(17)),D=(a(45),a(21)),O=(a(59),a(34)),C=(a(112),a(70)),I=(a(29),a(16)),N=(a(49),a(18));function x(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD"})}function A(e){if(void 0!==e.amount&&e.amounts&&e.amounts.length){var t=e.amounts,a=[];e.paid.forEach(function(e,n){!0===e&&a.push(t[n])});var n=t.length?t.reduce(function(e,t){return e+parseFloat(t)},0):0,s=e.amount,i=a.reduce(function(e,t){return e+parseFloat(t)},0),o=e.amount-i;return r.a.createElement("div",{className:"totals-wrap"},r.a.createElement("div",null,"Payments: ",r.a.createElement("span",{className:"totals"},x(n))),r.a.createElement("div",null,"Payments Paid: ",r.a.createElement("span",{className:"totals"},x(i))),r.a.createElement("div",null,"Budgeted Amount: ",r.a.createElement("span",{className:"totals"},x(s))),r.a.createElement("div",{className:o>-1?"in-green":"in-red"},function(e){if(e>0)return"Under Budget";if(e<0)return"Over Budget";if(0===e)return"On Budget"}(o),": ",r.a.createElement("span",{className:"totals"},x(o))))}}var F=a(240),P={},T="/api/v1",R=a.n(F).a.create();R.defaults.headers.common.Authorization=localStorage.getItem("token"),P.post=function(e,t,a){R.post(T+e,t).then(function(e){a(e)}).catch(function(e){a(e.response)})},P.put=function(e,t,a){var n=t._id?"".concat(T).concat(e,"/").concat(t._id):"".concat(T).concat(e);R.put(n,t).then(function(e){a(e)}).catch(function(e){a(e.response)})},P.get=function(e,t,a){var n=a?"".concat(T).concat(e,"/").concat(a):T+e;R.get(n).then(function(e){t(e)}).catch(function(e){t(e.response)})},P.delete=function(e,t,a){R.delete("".concat(T).concat(e,"/").concat(a)).then(function(e){t(e)}).catch(function(e){t(e.response)})};var U=P,B=N.a.Item,q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).setUpCategories=function(e){if(e&&200===e.status){var t=e.data.filter(function(e){return"budgets"===e.name});a.setState({categories:t[0].categories})}},a.setUpDebts=function(e){if(e&&200===e.status){var t=e.data;a.setState({debts:t})}},a.loadingTrue=function(){a.setState({loading:!0})},a.loadingFalse=function(){a.setState({loading:!1})},a.networkResponse=function(e){a.loadingFalse(),e.status&&(404===e.status?a.setState({errorSavingBudget:!0}):201!==e.status&&200!==e.status||(a.props.fetchBudgets(),a.setState({successSavingBudget:!0})))},a.closeAlert=function(){a.setState({successSavingBudget:!1,errorSavingBudget:!1})},a.state={budget:{},categories:[],debts:[],loading:!1,successSavingBudget:!1,errorSavingBudget:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){U.get("/categories",this.setUpCategories),U.get("/debts",this.setUpDebts)}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields(function(e,a){if(e)console.log(e);else{var n={};n.name=a.name,n.amount=parseFloat(a.amount),n.category=a.category,t.loadingTrue(),U.post("/budgets",n,t.networkResponse)}})}},{key:"debitDropDown",value:function(){var e=this;if(this.state.debts.length){var t=r.a.createElement(o.a,null,this.state.debts.map(function(t){return r.a.createElement(o.a.Item,{key:t.id},r.a.createElement("div",{onClick:function(){return e.addLineItem(t)}},t.name))}));return r.a.createElement(C.a,{overlay:t,placement:"topCenter"},r.a.createElement(I.a,{type:"dashed",style:{marginLeft:"10px"}},"Debts"))}}},{key:"showBudgetedAmount",value:function(){if(this.state.budget)return A((0,this.props.form.getFieldsValue)())}},{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator;e.getFieldValue;return r.a.createElement("div",null,r.a.createElement("h1",null,"New budget"),r.a.createElement(O.a,null),r.a.createElement(N.a,{layout:"horizontal",onSubmit:this.handleSubmit.bind(this)},r.a.createElement(w.a,{gutter:16},r.a.createElement(S.a,{xs:24,sm:12,md:12},r.a.createElement(B,{label:"Name"},t("name",{rules:[{required:!0,message:"Name cannot be blank"}]})(r.a.createElement(D.a,null)))),r.a.createElement(S.a,{xs:24,sm:12,md:6},r.a.createElement(B,{label:"Budget Amount"},t("amount",{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Budget Amount cannot be blank"}]})(r.a.createElement(j.a,null)))),r.a.createElement(S.a,{xs:24,sm:12,md:6},r.a.createElement(B,{label:"Category"},t("category",{validateTrigger:["onChange"],rules:[{message:"Category cannot be blank"}]})(r.a.createElement(k.a,null,this.state.categories.map(function(e,t){return r.a.createElement(k.a.Option,{key:t,value:e},e)}))))),r.a.createElement(S.a,{span:1})),r.a.createElement(w.a,null,r.a.createElement(S.a,{span:24},this.state.successSavingBudget&&r.a.createElement(E.a,{message:"Successfully save new budget",type:"success",closable:!0,afterClose:this.closeAlert,showIcon:!0}),this.state.errorSavingBudget&&r.a.createElement(E.a,{message:"Error save new budget",type:"error",closable:!0,afterClose:this.closeAlert,showIcon:!0}))),r.a.createElement(B,null,r.a.createElement(I.a,{type:"primary",loading:this.state.loading,htmlType:"submit"},"Save"))),this.showBudgetedAmount())}}]),t}(n.Component),M=N.a.create()(q),_=a(32),L=a(139),V=a.n(L),Y=(a(420),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={showDrawer:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState({showDrawer:this.props.showDrawer})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{onClick:function(){return e.props.callback()},className:"drawer-overlay ".concat(this.state.showDrawer?"show":"")}),r.a.createElement("div",{className:"drawer ".concat(this.state.showDrawer?"show":"")},r.a.createElement(V.a,{type:"primary",style:{float:"right",marginTop:"10px"},icon:"right",onClick:function(){return e.props.callback()}}),r.a.createElement("div",null,this.props.children)))}}]),t}(n.Component)),z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).fetchBudgets=function(){U.get("/budgets",a.getBudgets)},a.getBudgets=function(e){if(e&&200===e.status){var t=e.data.budgets;a.setState({budgets:t})}},a.renderTables=function(){return a.state.budgets.length?r.a.createElement(_.a,{rowKey:function(e){return e._id},className:"debit-table",dataSource:a.state.budgets,columns:a.buildColumns()}):""},a.renderResponsiveTables=function(){return a.state.budgets.length?r.a.createElement(_.a,{rowKey:function(e){return e._id},className:"debit-table",dataSource:a.state.budgets,columns:a.buildResponsiveColumns()}):""},a.state={budgets:[],showDrawer:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchBudgets()}},{key:"getPaidAmount",value:function(e){if(void 0===e)return 0;var t=e.map(function(e){return e.amount}),a=e.map(function(e){return null!==e.paidOn}),n=[];return a.forEach(function(e,a){!0===e&&n.push(t[a])}),n.length?n.reduce(function(e,t){return e+parseFloat(t)},0):0}},{key:"allLineItemsPaid",value:function(e){var t=!0;return e.map(function(e){return e.paid}).forEach(function(e,a){!0!==e&&(t=!1)}),!0===t?"Yes":"No"}},{key:"buildColumns",value:function(){var e=this;return[{title:"Name",dataIndex:"name",key:"name",render:function(e,t){return r.a.createElement(f.a,{to:"/budgets/".concat(t._id)},e)}},{title:"Category",dataIndex:"category",key:"category"},{title:"Payments",dataIndex:"payments",key:"payments",className:"totals-text-right",render:function(t){var a=void 0!==t?e.getPaidAmount(t):0;return a=x(a)}},{title:"Budget Amount",dataIndex:"amount",key:"amount",className:"totals-text-right",render:function(e){return x(e)}},{title:"Status",dataIndex:"status",key:"status",className:"totals-text-right",render:function(t,a){var n=a.amount-e.getPaidAmount(a.payments);return n=x(n)}}]}},{key:"buildResponsiveColumns",value:function(){return[{title:"Name",dataIndex:"name",key:"name",render:function(e,t){return r.a.createElement(f.a,{to:"/budgets/".concat(t._id)},e)}}]}},{key:"animateDrawer",value:function(){var e=this.state.showDrawer;this.setState({showDrawer:!e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Y,{showDrawer:this.state.showDrawer,callback:this.animateDrawer.bind(this)},r.a.createElement(M,{fetchBudgets:this.fetchBudgets})),r.a.createElement(I.a,{type:"primary",className:"m-button",icon:"plus",onClick:function(){return e.animateDrawer()}},"New Budget"),r.a.createElement("h1",null,"Budgets"),r.a.createElement(v.a,{query:"(min-width: 599px)"},function(t){return t?e.renderTables():e.renderResponsiveTables()}))}}]),t}(n.Component),H=(a(89),a(61),a(35)),$=N.a.Item,K=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).getBudget=function(e){if(e&&200===e.status){var t=e.data.budget;a.setState({budget:t,uuid:t.payments.length}),a.props.form.setFieldsValue({name:t.name,amount:t.amount,category:t.category})}},a.setUpCategories=function(e){if(e&&200===e.status){var t=e.data.filter(function(e){return"budgets"===e.name});a.setState({categories:t[0].categories})}},a.loadingTrue=function(){a.setState({loading:!0})},a.loadingFalse=function(){a.setState({loading:!1})},a.networkResponse=function(e){a.loadingFalse(),e.status&&(404===e.status?a.setState({errorSavingBudget:!0}):201!==e.status&&200!==e.status||(a.setState({successSavingBudget:!0}),a.props.fetchBudget()))},a.loadingTrue=function(){a.setState({loading:!0})},a.loadingFalse=function(){a.setState({loading:!1})},a.closeAlert=function(){a.setState({successSavingBudget:!1,errorSavingBudget:!1})},a.state={budget:"",categories:[],debts:[],uuid:0,loading:!1,successSavingBudget:!1,errorSavingBudget:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({successSavingBudget:!1,errorSavingBudget:!1}),U.get("/categories",this.setUpCategories);var e=window.location.pathname.split("/").pop();e&&U.get("/budgets",this.getBudget,e)}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.loadingTrue(),this.props.form.validateFields(function(e,a){var n=t.state.budget;e?t.loadingFalse():(n.id=n.id,n.name=a.name,n.amount=parseFloat(a.amount),n.category=a.category,t.loadingTrue(),U.put("/budgets",n,t.networkResponse))})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",null,r.a.createElement("h1",null,"Edit Budget"),r.a.createElement(O.a,null),r.a.createElement(N.a,{onSubmit:this.handleSubmit.bind(this)},r.a.createElement(w.a,{gutter:16},r.a.createElement(S.a,{span:8},r.a.createElement($,{label:"Name",required:!0},e("name",{rules:[{required:!0,message:"Name cannot be blank"}]})(r.a.createElement(D.a,null)))),r.a.createElement(S.a,{span:8},r.a.createElement($,{label:"Budgeted Amount",required:!0},e("amount",{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Budget Amount cannot be blank"}]})(r.a.createElement(j.a,null)))),r.a.createElement(S.a,{span:8},r.a.createElement($,{label:"Category",required:!0},e("category",{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Category cannot be blank"}]})(r.a.createElement(k.a,null,this.state.categories.map(function(e,t){return r.a.createElement(k.a.Option,{key:t,value:e},e)})))))),r.a.createElement(w.a,null,r.a.createElement(S.a,{span:24},this.state.successSavingBudget&&r.a.createElement(E.a,{message:"Successfully updating new budget.",type:"success",closable:!0,afterClose:this.closeAlert,showIcon:!0}),this.state.errorSavingBudget&&r.a.createElement(E.a,{message:"Error updating new budget.",type:"error",closable:!0,afterClose:this.closeAlert,showIcon:!0}))),r.a.createElement($,null,r.a.createElement(I.a,{type:"primary",loading:this.state.loading,htmlType:"submit"},"Save"))))}}]),t}(n.Component),W=N.a.create()(K),Q=(a(235),a(149)),J=(a(239),a(146)),G=a(22),X=a.n(G),Z=N.a.Item,ee=N.a.create()(function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={categories:a.props.categories||[],title:"Payment"},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){if(e.payment!==this.props.payment&&null!==this.props.payment){var t=this.props.payment;this.props.form.setFieldsValue({amount:t.amount,paidOn:t.paidOn?X()(t.paidOn):X()(),note:t.note,id:t._id,name:t.name,category:t.category})}e.categories!==this.props.categories&&this.setState({categories:this.props.categories}),e.title!==this.props.title&&this.setState({title:this.props.title})}},{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onCreate,s=(e.title,e.form.getFieldDecorator);return r.a.createElement(Q.a,{visible:t,title:this.state.title,okText:"Submit Payment",onCancel:a,onOk:n},r.a.createElement(N.a,null,r.a.createElement(w.a,{gutter:8},r.a.createElement(S.a,{span:12},r.a.createElement(Z,{label:"Name"},s("name",{})(r.a.createElement(D.a,null)))),r.a.createElement(S.a,{span:12},r.a.createElement(Z,{label:"Amount"},s("amount",{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Amount cannot be blank"}]})(r.a.createElement(j.a,null))))),r.a.createElement(w.a,{gutter:8},r.a.createElement(S.a,{span:12},r.a.createElement(Z,{label:"Paid On"},s("paidOn",{})(r.a.createElement(J.a,null)))),r.a.createElement(S.a,{span:12},r.a.createElement(Z,{label:"Category"},s("category",{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Category cannot be blank"}]})(r.a.createElement(k.a,null,this.state.categories.map(function(e,t){return r.a.createElement(k.a.Option,{key:t,value:e},e)})))))),r.a.createElement(Z,{label:"Note"},s("note",{})(r.a.createElement(D.a,null))),r.a.createElement(Z,null,s("id",{})(r.a.createElement(D.a,{type:"hidden"})))))}}]),t}(r.a.Component)),te=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).setUpCategories=function(e){if(200===e.status){var t=e.data.filter(function(e){return"payments"===e.name});a.setState({categories:t[0].categories})}},a.showModal=function(){a.props.showModal(),a.formRef.props.form.resetFields()},a.handleCancel=function(){a.props.showModal(),a.formRef.props.form.resetFields()},a.handleCreate=function(){a.formRef.props.form.validateFields(function(e,t){if(!e){var n={},r=a.state.debt,s=a.state.budget;(n={}).amount=t.amount,n.note=t.note,n.category=t.category,n.paidOn=t.paidOn?t.paidOn.toDate():"",n.name=t.name,null!==r&&(n.debtId=r._id),null!==s&&(n.budgetId=s._id),t.id?(n._id=t.id,U.put("/payments",n,a.networkResponse)):U.post("/payments",n,a.networkResponse)}})},a.networkResponse=function(e){e&&e.status&&(404===e.status||201!==e.status&&200!==e.status||(a.formRef.props.form.resetFields(),a.props.callback(),a.props.showModal()))},a.saveFormRef=function(e){a.formRef=e},a.state={debt:a.props.debt||null,budget:a.props.budget||null,editing:!1,payment:null,title:"Payment"},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){U.get("/categories",this.setUpCategories)}},{key:"componentDidUpdate",value:function(e){e.visible!==this.props.visible&&this.setState({visible:this.props.visible,payment:this.props.payment}),e.debt!==this.props.debt&&(null!==this.props.debt?this.setState({title:"Payment for ".concat(this.props.debt.name),debt:this.props.debt}):this.setState({title:"Payment for ".concat(this.props.budget.name),debt:null}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ee,{wrappedComponentRef:this.saveFormRef,title:this.state.title,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,payment:this.state.payment,categories:this.state.categories}))}}]),t}(r.a.Component),ae=(a(501),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).fetchBudget=function(){var e=a.state.id;U.get("/budgets",a.setUpBudget,e)},a.setUpBudget=function(e){var t=e.data.budget;a.setState({budget:t})},a.deleteResponse=function(){a.props.history.push("/budgets")},a.showModal=function(){var e=a.state.showModal;a.setState({showModal:!e})},a.editPayment=function(e){a.setState({payment:e,debt:null},function(){a.showModal()})},a.newPayment=function(){a.setState({payment:null,debt:null},function(){a.showModal()})},a.newDebtPayment=function(e){a.setState({payment:null,debt:e},function(){a.showModal()})},a.renderPaymentForm=function(){if(a.state.budget)return r.a.createElement(te,{budget:a.state.budget,debt:a.state.debt,visible:a.state.showModal,showModal:a.showModal,payment:a.state.payment,callback:a.fetchBudget})},a.handleDelete=function(e){U.delete("/payments",a.deletePaymentResponse,e)},a.deletePaymentResponse=function(){a.fetchBudget()},a.setUpDebts=function(e){if(e&&200===e.status){var t=e.data.debts;a.setState({debts:t})}},a.state={showDrawer:!1,showModal:!1,payment:null,debts:[]},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.match.params.id){var t=this.props.match.params.id;t&&this.setState({id:t},function(){e.fetchBudget()})}U.get("/debts",this.setUpDebts)}},{key:"componentDidUpdate",value:function(e,t){this.state.budget!==t.budget&&this.setState({budget:this.state.budget})}},{key:"confirm",value:function(){var e=this.state.id;U.delete("/budgets",this.deleteResponse,e)}},{key:"cancel",value:function(){}},{key:"budgetHead",value:function(){var e=this;if(this.state.budget){var t=this.state.budget;return r.a.createElement("div",null,r.a.createElement("h1",{className:"float-left"},t.name),r.a.createElement(I.a,{size:"small",type:"",style:{margin:"10px 0 0 10px"},onClick:function(){return e.animateDrawer()}},r.a.createElement(l.a,{type:"form"})),r.a.createElement(H.a,{title:"Are you sure delete this budget?",onConfirm:this.confirm.bind(this),onCancel:this.cancel,okText:"Yes",cancelText:"No"},r.a.createElement(I.a,{size:"small",type:"danger",style:{margin:"10px 0 0 10px"}},r.a.createElement(l.a,{type:"delete"}))),r.a.createElement(I.a,{style:{float:"right",marginTop:"10px",marginRight:"20px"},icon:"plus",type:"primary",onClick:this.newPayment},"Payment"),this.debitDropDown())}return r.a.createElement("h1",null,"Budget Not found :(")}},{key:"animateDrawer",value:function(){var e=this.state.showDrawer;this.setState({showDrawer:!e})}},{key:"buildColumns",value:function(){var e=this;return[{title:"Action",dataIndex:"action",key:"action",className:"",render:function(t,a){return r.a.createElement("div",null,r.a.createElement(H.a,{title:"Sure to delete?",onConfirm:function(){return e.handleDelete(a._id)}},r.a.createElement("a",{href:"javascript:;"},"Delete"))," ",r.a.createElement(O.a,{type:"vertical"}),r.a.createElement("a",{href:"#",onClick:function(){return e.editPayment(a)}},"Edit"))}},{title:"Name",dataIndex:"name",key:"name"},{title:"Category",dataIndex:"category",key:"category",render:function(e){return e}},{key:"paidOn",title:"Paid On",dataIndex:"paidOn",render:function(e,t){return t.paidOn?X()(t.paidOn).format("MM/DD/YYYY"):"Not Paid"}},{key:"amount",title:"Amount",dataIndex:"amount",className:"totals-text-right",render:function(e){return e=e.toLocaleString("en-US",{style:"currency",currency:"USD"})}}]}},{key:"renderTable",value:function(){if(this.state.budget){var e=this.state.budget,t={};return t.amount=e.amount,t.amounts=e?e.payments.map(function(e){return e.amount}):0,t.paid=!!e&&e.payments.map(function(e){return!!e.paidOn}),r.a.createElement(_.a,{rowKey:function(e){return e._id},pagination:!1,rowClassName:function(e){return""===e.note||void 0===e.note?"no-ico":"ico"},dataSource:e.payments,columns:this.buildColumns(),expandedRowRender:function(e){return e.note},footer:function(){return A(t)}})}}},{key:"budgetStatus",value:function(e){return e>0?"Under Budget":e<0?"Over Budget":0===e?"On Budget":void 0}},{key:"debitDropDown",value:function(){var e=this;if(this.state.debts.length){var t=r.a.createElement(o.a,null,this.state.debts.map(function(t){return r.a.createElement(o.a.Item,{key:t._id},r.a.createElement("div",{onClick:function(){return e.newDebtPayment(t)}},t.name))}));return r.a.createElement(C.a,{overlay:t,placement:"bottomCenter"},r.a.createElement(I.a,{icon:"plus",type:"primary",style:{float:"right",marginTop:"10px",marginRight:"20px"}},"Debt"))}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Y,{showDrawer:this.state.showDrawer,callback:this.animateDrawer.bind(this)},r.a.createElement(W,{fetchBudget:this.fetchBudget.bind(this)})),this.budgetHead(),r.a.createElement(O.a,null),this.renderTable(),this.renderPaymentForm())}}]),t}(r.a.Component)),ne=a(143),re=N.a.Item,se=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).setUpCategories=function(e){if(200===e.status){var t=e.data.filter(function(e){return"debts"===e.name});a.setState({categories:t[0].categories})}},a.getDebt=function(e){if(200===e.status){var t=e.data.debt;a.setState(Object(ne.a)({debt:t},"debt",t)),a.props.form.setFieldsValue({name:t.name,amount:t.amount,accountNumber:t.accountNumber,category:t.category})}},a.networkResponse=function(e){a.loadingFalse(),e.status&&(404===e.status?a.setState({errorSavingDebt:!0}):201!==e.status&&200!==e.status||(a.state.editingDebit?a.props.fetchDebt():a.props.fetchDebts(),a.setState({successSavingDebt:!0})))},a.loadingTrue=function(){a.setState({loading:!0})},a.loadingFalse=function(){a.setState({loading:!1})},a.state={categories:[],debt:{},loading:!1,successSavingDebt:!1,errorSavingDebt:!1,editingDebit:a.props.editingDebit},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){if(U.get("/categories",this.setUpCategories),this.state.editingDebit){var e=window.location.pathname.split("/").pop();e&&U.get("/debts",this.getDebt,e)}}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.loadingTrue(),this.props.form.validateFields(function(e,a){var n=t.state.debt;e?(console.log(e),t.loadingFalse()):(n.name=a.name,n.amount=parseFloat(a.amount),n.category=a.category,n.accountNumber=a.accountNumber,t.loadingTrue(),t.state.editingDebit?U.put("/debts",n,t.networkResponse):U.post("/debts",n,t.networkResponse))})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",null,r.a.createElement("h1",null,this.state.editingDebit?"Edit Debt":"New Debt"),r.a.createElement(O.a,null),r.a.createElement(N.a,{layout:"horizontal",onSubmit:this.handleSubmit.bind(this)},r.a.createElement(w.a,{gutter:16},r.a.createElement(S.a,{span:12},r.a.createElement(re,{label:"Name"},e("name",{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Name cannot be blank"}]})(r.a.createElement(D.a,null)))),r.a.createElement(S.a,{span:12},r.a.createElement(re,{label:"Debt Amount"},e("amount",{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Amount cannot be blank"}]})(r.a.createElement(j.a,null))))),r.a.createElement(w.a,{gutter:16},r.a.createElement(S.a,{span:12},r.a.createElement(re,{label:"Account Number",help:"Account, loan, credit card..."},e("accountNumber",{})(r.a.createElement(D.a,null)))),r.a.createElement(S.a,{span:12},r.a.createElement(re,{label:"Category"},e("category")(r.a.createElement(k.a,null,this.state.categories.map(function(e,t){return r.a.createElement(k.a.Option,{key:t,value:e},e)})))))),r.a.createElement(w.a,null,r.a.createElement(S.a,{span:24},this.state.successSavingDebt&&r.a.createElement(E.a,{message:"Successfully ".concat(this.state.editingDebit?"updated":"saved"," debt."),type:"success",closable:!0,afterClose:this.closeAlert,showIcon:!0}),this.state.errorSavingDebt&&r.a.createElement(E.a,{message:"Error ".concat(this.state.editingDebit?"updating":"saving"," debt."),type:"error",closable:!0,afterClose:this.closeAlert,showIcon:!0}))),r.a.createElement(re,null,r.a.createElement(I.a,{type:"primary",loading:this.state.loading,htmlType:"submit"},"Submit"))))}}]),t}(n.Component),ie=N.a.create()(se),oe=(a(503),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).fetchDebts=function(){U.get("/debts",a.setDebts)},a.setDebts=function(e){if(200===e.status){var t=e.data.debts;a.setState({debts:t})}},a.renderTable=function(){if(a.state.debts.length){var e=a.state.debts.reduce(function(e,t){return t.amount+e},0);return e=x(e),r.a.createElement(_.a,{rowKey:function(e){return e._id},dataSource:a.state.debts,columns:a.buildColumns(),footer:function(){return r.a.createElement("div",{className:"totals-wrap debt"},r.a.createElement("div",null,"Total Debt: ",r.a.createElement("span",{className:"totals"},e)))}})}},a.state={showDrawer:!1,debts:[],isEditing:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchDebts()}},{key:"animateDrawer",value:function(){var e=this.state.showDrawer;this.setState({showDrawer:!e})}},{key:"buildColumns",value:function(){return[{title:"Name",dataIndex:"name",key:"name",render:function(e,t){return r.a.createElement(f.a,{to:"/debts/".concat(t._id)},e)}},{key:"account",title:"Account",dataIndex:"accountNumber"},{key:"category",title:"Category",dataIndex:"category"},{key:"amount",title:"Initial Amount",dataIndex:"amount",render:function(e){return x(e)}},{key:"payments",title:"Payments",dataIndex:"payments",render:function(e,t){if(0===t.payments.length)return"$0.00";var a=t.payments?t.payments.reduce(function(e,t){return e+t.amount},0):0;return 0===a?"":x(a)}},{key:"owed",title:"Owed",dataIndex:"owed",className:"totals-text-right",render:function(e,t){var a=t.payments?t.payments.reduce(function(e,t){return e+t.amount},0):0;return x(t.amount-a)}}]}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(I.a,{className:"m-button",icon:"plus",type:"primary",onClick:function(){return e.animateDrawer("new")}},"New Debt"),r.a.createElement(Y,{showDrawer:this.state.showDrawer,callback:this.animateDrawer.bind(this)},r.a.createElement(ie,{fetchDebts:this.fetchDebts})),r.a.createElement("h1",null,"Debts"),this.renderTable())}}]),t}(n.Component)),le=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).fetchDebt=function(){var e=a.state.id;U.get("/debts",a.setUpDebts,e)},a.setUpDebts=function(e){if(200===e.status){var t=e.data.debt;a.setState({debt:t})}},a.handleDelete=function(e){U.delete("/payments",a.deletePaymentResponse,e)},a.deletePaymentResponse=function(){a.fetchDebt()},a.deleteResponse=function(){a.props.history.push("/debts")},a.editPayment=function(e){a.setState({payment:e},function(){a.showModal()})},a.newPayment=function(){a.setState({payment:null},function(){a.showModal()})},a.showModal=function(){var e=a.state.showModal;a.setState({showModal:!e})},a.renderPaymentForm=function(){if(a.state.debt)return r.a.createElement(te,{debt:a.state.debt,visible:a.state.showModal,showModal:a.showModal,payment:a.state.payment,callback:a.fetchDebt})},a.state={debt:"",showDrawer:!1,showModal:!1,payment:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.match.params.id){var t=this.props.match.params.id;t&&this.setState({id:t},function(){e.fetchDebt()})}}},{key:"debtHead",value:function(){var e=this;if(this.state.debt){var t=this.state.debt;return r.a.createElement("div",null,r.a.createElement(I.a,{style:{float:"right",marginTop:"10px"},icon:"plus",type:"primary",onClick:this.newPayment},"Payment"),r.a.createElement("h1",{className:"float-left"},t.name),r.a.createElement(I.a,{size:"small",type:"",style:{margin:"10px 0 0 10px"},onClick:function(){return e.animateDrawer()}},r.a.createElement(l.a,{type:"form"})),r.a.createElement(H.a,{title:"Are you sure delete this debt?",onConfirm:this.confirm.bind(this),onCancel:this.cancel,okText:"Yes",cancelText:"No"},r.a.createElement(I.a,{size:"small",type:"danger",style:{margin:"10px 0 0 10px"}},r.a.createElement(l.a,{type:"delete"}))))}return r.a.createElement("h1",null,"Debit Not found :(")}},{key:"buildColumns",value:function(){var e=this;return[{title:"Action",dataIndex:"action",key:"action",className:"",render:function(t,a){return r.a.createElement("div",null,r.a.createElement(H.a,{title:"Sure to delete?",onConfirm:function(){return e.handleDelete(a._id)}},r.a.createElement("a",{href:"javascript:;"},"Delete"))," ",r.a.createElement(O.a,{type:"vertical"}),r.a.createElement("a",{href:"#",onClick:function(){return e.editPayment(a)}},"Edit"))}},{title:"Note",dataIndex:"note",key:"note",render:function(e,t){return e}},{title:"Paid On",dataIndex:"paidOn",key:"paidOn",render:function(e,t){return t.paidOn?X()(t.paidOn).format("MM/DD/YYYY"):"Not Paid"}},{title:"Category",dataIndex:"category",key:"category",render:function(e,t){return e}},{title:"Amount",dataIndex:"amount",key:"amount",className:"totals-text-right",render:function(e){return x(e)}}]}},{key:"renderTable",value:function(){if(this.state.debt){var e=this.state.debt,t=e.payments&&e.payments.length?e.payments.reduce(function(e,t){return e+t.amount},0):0,a=this.state.debt.amount-t;return a=x(a),r.a.createElement(_.a,{rowKey:function(e){return e._id},dataSource:this.state.debt.payments,columns:this.buildColumns(),footer:function(){return r.a.createElement("div",{className:"totals-wrap"},r.a.createElement("div",null,"Current Due: ",r.a.createElement("span",{className:"totals"},a)))}})}}},{key:"animateDrawer",value:function(){var e=this.state.showDrawer;this.setState({showDrawer:!e})}},{key:"confirm",value:function(){var e=this.state.id;U.delete("/debts",this.deleteResponse,e)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Y,{showDrawer:this.state.showDrawer,callback:this.animateDrawer.bind(this)},r.a.createElement(ie,{editingDebit:!0,fetchDebt:this.fetchDebt})),this.debtHead(),r.a.createElement(O.a,null),r.a.createElement("div",null,"Account Number: ",this.state.debt.accountNumber),r.a.createElement("div",null,"Amount: ",this.state.debt?x(this.state.debt.amount):""),this.renderTable(),this.renderPaymentForm())}}]),t}(r.a.Component),ce=N.a.Item,ue=k.a.Option,me=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).setUpCategories=function(e){if(e&&200===e.status){var t=e.data.filter(function(e){return"/inventory"===e.name});a.setState({categories:t[0].categories})}},a.getInventory=function(e){if(e&&200===e.status){var t=e.data.inventory;a.setState({inventory:t}),a.props.form.setFieldsValue({name:t.name,model:t.model,serialNumber:t.serialNumber,category:t.category,pricePerUnit:t.pricePerUnit,quantity:t.quantity,location:t.location,unitType:t.unitType})}},a.networkResponse=function(e){a.loadingFalse(),e.status&&(404===e.status?a.setState({errorSaving:!0}):201!==e.status&&200!==e.status||(a.props.fetchInventory(),a.setState({successSaving:!0})))},a.loadingTrue=function(){a.setState({loading:!0})},a.loadingFalse=function(){a.setState({loading:!1})},a.state={categories:[],inventory:{},loading:!1,successSaving:!1,errorSaving:!1,editing:a.props.editing},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){U.get("/categories",this.setUpCategories)}},{key:"componentDidUpdate",value:function(e){this.props.id!==e.id&&(this.setState({successSaving:!1,errorSaving:!1}),"new"===this.props.id||null===this.props.id?(this.setState({editing:!1,inventory:{}}),this.props.form.resetFields()):this.checkForId())}},{key:"checkForId",value:function(){var e=window.location.pathname.split("/").pop();e&&"new"!==e&&(U.get("/inventory",this.getInventory,e),this.setState({editing:!0}))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.loadingTrue(),this.props.form.validateFields(function(e,a){var n=t.state.inventory;e?(console.log(e),t.loadingFalse()):(n.name=a.name,n.model=a.model,n.category=a.category,n.serialNumber=a.serialNumber,n.quantity=a.quantity||0,n.pricePerUnit=a.pricePerUnit||0,n.location=a.location,n.unitType=a.unitType,t.loadingTrue(),t.state.editing?U.put("/inventory",n,t.networkResponse):U.post("/inventory",n,t.networkResponse))})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",null,r.a.createElement("h1",null,this.state.editing?"Edit Inventory":"New Inventory"),r.a.createElement(O.a,null),r.a.createElement(N.a,{layout:"horizontal",onSubmit:this.handleSubmit.bind(this)},r.a.createElement(w.a,{gutter:16},r.a.createElement(S.a,{xs:24,sm:12,md:6},r.a.createElement(ce,{label:"Name"},e("name",{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Name cannot be blank"}]})(r.a.createElement(D.a,null)))),r.a.createElement(S.a,{xs:24,sm:12,md:6},r.a.createElement(ce,{label:"Model"},e("model",{})(r.a.createElement(D.a,null)))),r.a.createElement(S.a,{xs:24,sm:12,md:6},r.a.createElement(ce,{label:"Serial Number"},e("serialNumber",{})(r.a.createElement(D.a,null)))),r.a.createElement(S.a,{xs:24,sm:12,md:6},r.a.createElement(ce,{label:"Location"},e("location",{})(r.a.createElement(D.a,null))))),r.a.createElement(w.a,{gutter:16},r.a.createElement(S.a,{xs:24,sm:12,md:6},r.a.createElement(ce,{label:"Category"},e("category")(r.a.createElement(k.a,null,this.state.categories.map(function(e,t){return r.a.createElement(ue,{key:t,value:e},e)}))))),r.a.createElement(S.a,{xs:24,sm:12,md:6},r.a.createElement(ce,{label:"Price Per Unit"},e("pricePerUnit",{})(r.a.createElement(j.a,{min:0})))),r.a.createElement(S.a,{xs:24,sm:12,md:6},r.a.createElement(ce,{label:"Quantity"},e("quantity",{})(r.a.createElement(j.a,{min:0})))),r.a.createElement(S.a,{xs:24,sm:12,md:6},r.a.createElement(ce,{label:"Units Of Measure"},e("unitType")(r.a.createElement(k.a,null,["ea","bx","pc","case","pallet","lb","ft","yds","pt","qt","l","gal"].map(function(e,t){return r.a.createElement(ue,{key:t,value:e},e)})))))),r.a.createElement(w.a,null,r.a.createElement(S.a,{span:24},this.state.successSaving&&r.a.createElement(E.a,{message:"Successfully ".concat(this.state.editing?"updated":"saved"," inventory."),type:"success",closable:!0,afterClose:this.closeAlert,showIcon:!0}),this.state.errorSaving&&r.a.createElement(E.a,{message:"Error ".concat(this.state.editing?"updating":"saving"," inventory."),type:"error",closable:!0,afterClose:this.closeAlert,showIcon:!0}))),r.a.createElement(ce,null,r.a.createElement(I.a,{type:"primary",loading:this.state.loading,htmlType:"submit"},"Submit"))))}}]),t}(n.Component),de=N.a.create()(me),pe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={inventory:a.props.inventory},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.inventory!==e.inventory&&this.setState({inventory:this.props.inventory})}},{key:"buildColumns",value:function(){var e=this;return[{title:"Name",dataIndex:"name",key:"name",render:function(e,t){return r.a.createElement(f.a,{to:"/inventory/edit/".concat(t._id)},e)}},{key:"location",title:"Location",dataIndex:"location"},{key:"category",title:"Category",dataIndex:"category"},{key:"quantity",title:"Quantity",dataIndex:"quantity",render:function(e,t){var a=void 0!==t.unitType?t.unitType:"";return"$".concat(e," ").concat(a)}},{key:"pricePerUnit",title:"Price Per Unit",dataIndex:"pricePerUnit",render:function(e){return e&&"$".concat(e)}},{key:"total",title:"Total",dataIndex:"Total",render:function(e,t){var a="";if(t.pricePerUnit&&t.quantity){var n=t.pricePerUnit*t.quantity;a="$".concat(n)}return a}},{key:"remove",title:"Remove",render:function(t,a){return r.a.createElement(H.a,{title:"Are you sure delete this?",onConfirm:function(){return e.confirm(a._id)},onCancel:e.cancel,okText:"Yes",cancelText:"No",placement:"left"},r.a.createElement(l.a,{type:"delete",className:"delete-red"}))}}]}},{key:"render",value:function(){return r.a.createElement(_.a,{rowKey:function(e){return e._id},key:"test",dataSource:this.state.inventory,rowClassName:function(e){return""===e.serialNumber||""===e.model?"no-ico":"ico"},expandedRowRender:function(e){return r.a.createElement("div",null,"Serial Number: ",e.serialNumber,r.a.createElement("br",null),"Model: ",e.model)},columns:this.buildColumns()})}}]),t}(n.Component),he=(a(183),a(74)),fe=(a(131),a(81)),ge=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).inventoryItems=function(e){if(console.log(e),e&&e.length)return e.map(function(e,t){return r.a.createElement("div",{key:t},e)})},a.state={inventory:a.props.inventory},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.inventory!==e.inventory&&this.setState({inventory:this.props.inventory})}},{key:"buildColumns",value:function(){var e=this;return[{title:"Name",dataIndex:"name",key:"name",render:function(e,t){return r.a.createElement(f.a,{to:"/inventory/edit/".concat(t._id)},e)}},{key:"location",title:"Location",dataIndex:"location"},{key:"category",title:"Category",dataIndex:"category"},{key:"quantity",title:"Quantity",dataIndex:"quantity",render:function(e,t){var a=void 0!==t.unitType?t.unitType:"";return"$".concat(e," ").concat(a)}},{key:"pricePerUnit",title:"Price Per Unit",dataIndex:"pricePerUnit",render:function(e){return e&&"$".concat(e)}},{key:"total",title:"Total",dataIndex:"Total",render:function(e,t){var a="";if(t.pricePerUnit&&t.quantity){var n=t.pricePerUnit*t.quantity;a="$".concat(n)}return a}},{key:"remove",title:"Remove",render:function(t,a){return r.a.createElement(H.a,{title:"Are you sure delete this?",onConfirm:function(){return e.confirm(a._id)},onCancel:e.cancel,okText:"Yes",cancelText:"No",placement:"left"},r.a.createElement(l.a,{type:"delete",className:"delete-red"}))}}]}},{key:"render",value:function(){var e=this;return r.a.createElement(he.a,{grid:{gutter:16,xs:1,sm:2,md:4},dataSource:this.state.inventory,renderItem:function(t){return r.a.createElement(he.a.Item,null,r.a.createElement(fe.a,{title:t.name,actions:[r.a.createElement(f.a,{to:"/inventory/edit/".concat(t._id)},r.a.createElement(l.a,{type:"form "})),r.a.createElement(H.a,{title:"Are you sure delete this?",onConfirm:function(){return e.confirm(t._id)},onCancel:e.cancel,okText:"Yes",cancelText:"No",placement:"left"},r.a.createElement(l.a,{type:"delete",className:"delete-red"}))]},"Quantity: ",t.quantity,t.unitType,". @ ",x(t.pricePerUnit)," located at ",t.location,r.a.createElement("br",null),"Model: ",t.model,"Serial Number: ",t.serialNumber))}})}}]),t}(n.Component),be=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).fetchInventory=function(){U.get("/inventory",a.setInventory)},a.setInventory=function(e){if(e&&200===e.status){var t=e.data.inventory;a.setState({inventory:t})}},a.deleteResponse=function(){a.fetchInventory()},a.state={showDrawer:!1,inventory:[],editing:!1,id:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchInventory()}},{key:"componentDidUpdate",value:function(e){if(this.props!==e){var t=this.props.match.params.id;void 0!==t?"new"===t?this.setState({showDrawer:!0,id:"new"}):this.setState({showDrawer:!0,id:t}):this.setState({showDrawer:!1,id:null})}}},{key:"animateDrawer",value:function(){this.setState({editing:!1}),this.props.history.push("/inventory")}},{key:"confirm",value:function(e){U.delete("/inventory",this.deleteResponse,e)}},{key:"cancel",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(f.a,{to:"/inventory/new"},r.a.createElement(I.a,{className:"m-button",icon:"plus",type:"primary"},"New Inventory Item")),r.a.createElement(Y,{showDrawer:this.state.showDrawer,callback:this.animateDrawer.bind(this)},r.a.createElement(de,{id:this.state.id,fetchInventory:this.fetchInventory})),r.a.createElement("h1",null,"Inventory"),r.a.createElement(v.a,{query:"(min-width: 599px)"},function(t){return t?e.state.inventory&&r.a.createElement(pe,{inventory:e.state.inventory}):e.state.inventory&&r.a.createElement(ge,{inventory:e.state.inventory})}))}}]),t}(n.Component),ve=function(e){function t(e){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(V.a,{style:{float:"right",marginTop:"10px"},icon:"plus"},"New Calendar Item"),r.a.createElement("h1",null,"Calendar"))}}]),t}(n.Component),ye=(a(128),a(63)),Ee=N.a.Item,we=0,ke=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).getList=function(e){if(200===e.status){var t=e.data.list;a.setState({list:t}),a.props.form.setFieldsValue({name:t.name})}},a.networkResponse=function(e){a.loadingFalse(),e.status&&(404===e.status?a.setState({errorSaving:!0}):201!==e.status&&200!==e.status||(a.props.fetchLists(),a.setState({successSaving:!0})))},a.loadingTrue=function(){a.setState({loading:!0})},a.loadingFalse=function(){a.setState({loading:!1})},a.remove=function(e){var t=a.props.form,n=t.getFieldValue("keys");t.setFieldsValue({keys:n.filter(function(t){return t!==e})})},a.add=function(){var e=a.props.form,t=e.getFieldValue("keys").concat(we);we++,e.setFieldsValue({keys:t})},a.state={list:{},loading:!1,successSaving:!1,errorSaving:!1,editing:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.id!==e.id&&(this.setState({successSaving:!1,errorSaving:!1}),"new"===this.props.id||null===this.props.id?(this.setState({editing:!1,list:{}}),this.props.form.resetFields()):this.checkForId())}},{key:"checkForId",value:function(){var e=window.location.pathname.split("/").pop();e&&"new"!==e&&(U.get("/lists",this.getList,e),this.setState({editing:!0}))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields(function(e,a){var n=t.state.list;n.listItems=[],e?(console.log(e),t.loadingFalse()):(n.name=a.name,a.keys.forEach(function(e){var t={};t.name=a.names[e],t.done=void 0!==a.done[e]&&a.done[e],n.listItems.push(t)}),t.loadingTrue(),t.state.editing?U.put("/lists",n,t.networkResponse):U.post("/lists",n,t.networkResponse))})}},{key:"render",value:function(){var e=this,t=this.props.form,a=t.getFieldDecorator,n=t.getFieldValue,s=this.state.list.listItems,i=this.state.editing;this.state.editing&&this.state.list.listItems?(we=this.state.list.listItems.length,a("keys",{initialValue:this.state.list.listItems.map(function(e,t){return t})})):a("keys",{initialValue:[]});var o=n("keys"),c=o.map(function(t,n){return r.a.createElement(w.a,{key:t},r.a.createElement(S.a,{span:16},r.a.createElement(Ee,{label:0===n?"List item(s)":"",required:!1,key:t},a("names[".concat(t,"]"),{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input list item or delete this field."}],initialValue:i&&s[t]?s[t].name:void 0})(r.a.createElement(D.a,{placeholder:"List Item",style:{width:"60%",marginRight:8}})),r.a.createElement(l.a,{className:"dynamic-delete-button",type:"minus-circle-o",disabled:1===o.length,onClick:function(){return e.remove(t)}})),a("ids[".concat(t,"]"),{initialValue:i&&s[t]?s[t].id:void 0})(r.a.createElement(D.a,{type:"hidden"})),a("done[".concat(t,"]"),{initialValue:i&&s[t]?s[t].done:void 0})(r.a.createElement(D.a,{type:"hidden"}))))});return r.a.createElement("div",null,r.a.createElement("h1",null,this.state.editing?"Edit List":"New List"),r.a.createElement(O.a,null),r.a.createElement(N.a,{layout:"horizontal",onSubmit:this.handleSubmit.bind(this)},r.a.createElement(w.a,{gutter:16},r.a.createElement(S.a,{span:24},r.a.createElement(Ee,{label:"Name"},a("name",{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Name cannot be blank"}]})(r.a.createElement(D.a,null))))),r.a.createElement(w.a,null,c,r.a.createElement(S.a,{span:24},this.state.successSaving&&r.a.createElement(E.a,{message:"Successfully ".concat(this.state.editing?"updated":"saved"," list."),type:"success",closable:!0,afterClose:this.closeAlert,showIcon:!0}),this.state.errorSaving&&r.a.createElement(E.a,{message:"Error ".concat(this.state.editing?"updating":"saving"," list."),type:"error",closable:!0,afterClose:this.closeAlert,showIcon:!0}))),r.a.createElement(Ee,null,r.a.createElement(I.a,{type:"dashed",onClick:this.add},r.a.createElement(l.a,{type:"plus"})," Add List Item"),r.a.createElement(O.a,null),r.a.createElement(I.a,{type:"primary",loading:this.state.loading,htmlType:"submit"},"Submit"))))}}]),t}(n.Component),je=N.a.create()(ke),Se=(a(513),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).fetchLists=function(){U.get("/lists",a.setLists)},a.setLists=function(e){if(200===e.status){var t=e.data.lists;a.setState({lists:t})}},a.deleteResponse=function(){a.fetchLists()},a.onChange=function(e){var t=a.state.lists.map(function(t){return t.listItems.map(function(t){t._id===e&&(t.done=!t.done)}),t});a.setState({lists:t})},a.state={showDrawer:!1,lists:[],editing:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchLists()}},{key:"componentDidUpdate",value:function(e){if(this.props!==e){var t=this.props.match.params.id;void 0!==t?"new"===t?this.setState({showDrawer:!0,id:"new"}):this.setState({showDrawer:!0,id:t}):this.setState({showDrawer:!1,id:null})}}},{key:"animateDrawer",value:function(){this.setState({editing:!1}),this.props.history.push("/lists")}},{key:"confirm",value:function(e){U.delete("/lists",this.deleteResponse,e)}},{key:"cancel",value:function(){}},{key:"listItems",value:function(e){var t=this;if(e&&e.length)return e.map(function(e,a){return r.a.createElement("div",{key:a},r.a.createElement(ye.a,{defaultChecked:e.done,onChange:function(){return t.onChange(e._id)}}),r.a.createElement("span",{className:!0===e.done?"list-strike-through":""},e.name))})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(f.a,{to:"/lists/new"},r.a.createElement(I.a,{className:"m-button",icon:"plus",type:"primary"},"New Lists Item")),r.a.createElement(Y,{showDrawer:this.state.showDrawer,callback:this.animateDrawer.bind(this)},r.a.createElement(je,{id:this.state.id,fetchLists:this.fetchLists})),r.a.createElement("h1",null,"Lists"),this.state.lists&&r.a.createElement(he.a,{grid:{gutter:16,xs:1,sm:2,md:4},dataSource:this.state.lists,renderItem:function(t){return r.a.createElement(he.a.Item,null,r.a.createElement(fe.a,{title:t.name,actions:[r.a.createElement(f.a,{to:"/lists/edit/".concat(t._id)},r.a.createElement(l.a,{type:"form"})),r.a.createElement(H.a,{title:"Are you sure delete this?",onConfirm:function(){return e.confirm(t._id)},onCancel:e.cancel,okText:"Yes",cancelText:"No",placement:"left"},r.a.createElement(l.a,{type:"delete",className:"delete-red"}))]},e.listItems(t.listItems,!1)))}}))}}]),t}(n.Component)),De=N.a.Item,Oe=k.a.Option,Ce=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).setUpCategories=function(e){if(e&&200===e.status){var t=e.data.filter(function(e){return"tasks"===e.name});a.setState({categories:t[0].categories})}},a.getTask=function(e){if(e&&200===e.status){var t=e.data;a.setState({task:t}),a.props.form.setFieldsValue({name:t.name})}},a.networkResponse=function(e){a.loadingFalse(),e.status&&(404===e.status?a.setState({errorSaving:!0}):201!==e.status&&200!==e.status||(a.props.fetchTasks(),a.setState({successSaving:!0})))},a.loadingTrue=function(){a.setState({loading:!0})},a.loadingFalse=function(){a.setState({loading:!1})},a.state={categories:[],task:{},loading:!1,successSaving:!1,errorSaving:!1,editing:a.props.editing},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){U.get("/categories",this.setUpCategories)}},{key:"componentDidUpdate",value:function(e){this.props.id!==e.id&&(this.setState({successSaving:!1,errorSaving:!1}),"new"===this.props.id||null===this.props.id?(this.setState({editing:!1,task:{}}),this.props.form.resetFields()):this.checkForId())}},{key:"checkForId",value:function(){var e=window.location.pathname.split("/").pop();e&&"new"!==e&&(U.get("/task",this.getTask,e),this.setState({editing:!0}))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.loadingTrue(),this.props.form.validateFields(function(e,a){var n=t.state.task;e?(console.log(e),t.loadingFalse()):(n.name=a.name,t.loadingTrue(),t.state.editing?(n.id=n.id,U.put("/task",n,t.networkResponse)):U.post("/task",n,t.networkResponse))})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",null,r.a.createElement("h1",null,this.state.editing?"Edit Task":"New Task"),r.a.createElement(O.a,null),r.a.createElement(N.a,{layout:"horizontal",onSubmit:this.handleSubmit.bind(this)},r.a.createElement(w.a,{gutter:16},r.a.createElement(S.a,{span:8},r.a.createElement(De,{label:"Name"},e("name",{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Name cannot be blank"}]})(r.a.createElement(D.a,null)))),r.a.createElement(S.a,{span:8},r.a.createElement(De,{label:"Category"},e("category")(r.a.createElement(k.a,null,this.state.categories.map(function(e,t){return r.a.createElement(Oe,{key:t,value:e},e)})))))),r.a.createElement(w.a,{gutter:16},r.a.createElement(S.a,{span:6},r.a.createElement(De,{label:"Price Per Unit"},e("pricePerUnit",{})(r.a.createElement(j.a,{min:0})))),r.a.createElement(S.a,{span:6},r.a.createElement(De,{label:"Quantity"},e("quantity",{})(r.a.createElement(j.a,{min:0})))),r.a.createElement(S.a,{span:6},r.a.createElement(De,{label:"Units Of Measure"},e("unitType")(r.a.createElement(k.a,null,["ea","pc","case","pallet","lb","ft","yds","pt","qt","l","gal"].map(function(e,t){return r.a.createElement(Oe,{key:t,value:e},e)})))))),r.a.createElement(w.a,null,r.a.createElement(S.a,{span:24},this.state.successSaving&&r.a.createElement(E.a,{message:"Successfully ".concat(this.state.editing?"updated":"saved"," task."),type:"success",closable:!0,afterClose:this.closeAlert,showIcon:!0}),this.state.errorSaving&&r.a.createElement(E.a,{message:"Error ".concat(this.state.editing?"updating":"saving"," task."),type:"error",closable:!0,afterClose:this.closeAlert,showIcon:!0}))),r.a.createElement(De,null,r.a.createElement(I.a,{type:"primary",loading:this.state.loading,htmlType:"submit"},"Submit"))))}}]),t}(n.Component),Ie=N.a.create()(Ce),Ne=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).fetchTasks=function(){U.get("/tasks",a.setTasks)},a.setTasks=function(e){if(200===e.status){var t=e.data.tasks;a.setState({tasks:t})}},a.deleteResponse=function(){a.fetchTasks()},a.state={showDrawer:!1,tasks:[],editing:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchTasks()}},{key:"componentDidUpdate",value:function(e){if(this.props!==e){var t=this.props.match.params.id;void 0!==t?"new"===t?this.setState({showDrawer:!0,id:"new"}):this.setState({showDrawer:!0,id:t}):this.setState({showDrawer:!1,id:null})}}},{key:"animateDrawer",value:function(){this.setState({editing:!1}),this.props.history.push("/tasks")}},{key:"confirm",value:function(e){U.delete("/tasks",this.deleteResponse,e)}},{key:"cancel",value:function(){}},{key:"buildColumns",value:function(){var e=this;return[{title:"Name",dataIndex:"name",key:"name",render:function(e,t){return r.a.createElement(f.a,{to:"/tasks/edit/".concat(t.id)},e)}},{key:"location",title:"Location",dataIndex:"location"},{key:"category",title:"Category",dataIndex:"category"},{key:"quantity",title:"Quantity",dataIndex:"quantity",render:function(e,t){var a=void 0!==t.unitType?t.unitType:"";return"$".concat(e," ").concat(a)}},{key:"pricePerUnit",title:"Price Per Unit",dataIndex:"pricePerUnit",render:function(e){return e&&"$".concat(e)}},{key:"total",title:"Total",dataIndex:"Total",render:function(e,t){var a="";if(t.pricePerUnit&&t.quantity){var n=t.pricePerUnit*t.quantity;a="$".concat(n)}return a}},{key:"remove",title:"Remove",render:function(t,a){return r.a.createElement(H.a,{title:"Are you sure delete this?",onConfirm:function(){return e.confirm(a.id)},onCancel:e.cancel,okText:"Yes",cancelText:"No",placement:"left"},r.a.createElement(l.a,{type:"delete",className:"delete-red"}))}}]}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(f.a,{to:"/tasks/new"},r.a.createElement(I.a,{className:"m-button",icon:"plus",type:"primary"},"New Tasks Item")),r.a.createElement(Y,{showDrawer:this.state.showDrawer,callback:this.animateDrawer.bind(this)},r.a.createElement(Ie,{id:this.state.id,fetchTasks:this.fetchTasks})),r.a.createElement("h1",null,"Tasks"),this.state.tasks&&r.a.createElement(_.a,{rowKey:function(e){return e.id},key:"test",dataSource:this.state.tasks,rowClassName:function(e){return""===e.serialNumber||""===e.model?"no-ico":"ico"},expandedRowRender:function(e){return r.a.createElement("div",null,"Serial Number: ",e.serialNumber,r.a.createElement("br",null),"Model: ",e.model)},columns:this.buildColumns()}))}}]),t}(n.Component),xe=N.a.Item,Ae=k.a.Option,Fe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).getUser=function(e){if(200===e.status){var t=e.data.user;a.setState({user:t}),a.props.form.setFieldsValue({firstName:t.firstName,lastName:t.lastName,email:t.email,roles:t.role,workPhone:t.workPhone,mobilePhone:t.mobilePhone})}},a.networkResponse=function(e){a.loadingFalse(),e&&e.status&&(404===e.status||422===e.status?a.setState({errorSaving:!0}):201!==e.status&&200!==e.status||(a.props.fetchUsers(),a.setState({successSaving:!0})))},a.loadingTrue=function(){a.setState({loading:!0})},a.loadingFalse=function(){a.setState({loading:!1})},a.state={roles:["Admin","User"],user:{},loading:!1,successSaving:!1,errorSaving:!1,editing:a.props.editing},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){this.props.id!==e.id&&(this.setState({successSaving:!1,errorSaving:!1}),"new"===this.props.id||null===this.props.id?(this.setState({editing:!1,user:{}}),this.props.form.resetFields()):this.checkForId())}},{key:"checkForId",value:function(){var e=window.location.pathname.split("/").pop();e&&"new"!==e&&(U.get("/users",this.getUser,e),this.setState({editing:!0}))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.loadingTrue(),this.props.form.validateFields(function(e,a){var n=t.state.user;e?(console.log(e),t.loadingFalse()):(n.firstName=a.firstName,n.lastName=a.lastName,n.email=a.email,n.role=a.roles,n.workPhone=a.workPhone,n.mobilePhone=a.mobilePhone,t.loadingTrue(),t.state.editing?(n.id=n.id,U.put("/users",n,t.networkResponse)):U.post("/users",n,t.networkResponse))})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",null,r.a.createElement("div",{className:"drawer-header-text"},this.state.editing?"Edit User":"New User"),r.a.createElement(O.a,null),r.a.createElement(N.a,{layout:"horizontal",onSubmit:this.handleSubmit.bind(this)},r.a.createElement(w.a,{gutter:16},r.a.createElement(S.a,{span:12},r.a.createElement(xe,{label:"First Name"},e("firstName",{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"First name cannot be blank"}]})(r.a.createElement(D.a,null)))),r.a.createElement(S.a,{span:12},r.a.createElement(xe,{label:"Last Name"},e("lastName",{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Last name cannot be blank"}]})(r.a.createElement(D.a,null))))),r.a.createElement(w.a,{gutter:16},r.a.createElement(S.a,{span:12},r.a.createElement(xe,{label:"email"},e("email",{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Email cannot be blank"}]})(r.a.createElement(D.a,null)))),r.a.createElement(S.a,{span:12},r.a.createElement(xe,{label:"Role"},e("roles")(r.a.createElement(k.a,null,this.state.roles.map(function(e,t){return r.a.createElement(Ae,{key:t,value:e},e)})))))),r.a.createElement(w.a,{gutter:16},r.a.createElement(S.a,{span:12},r.a.createElement(xe,{label:"Mobile Phone"},e("mobilPhone",{})(r.a.createElement(D.a,null)))),r.a.createElement(S.a,{span:12},r.a.createElement(xe,{label:"Work Phone"},e("workPhone",{})(r.a.createElement(D.a,null))))),r.a.createElement(w.a,null,r.a.createElement(S.a,{span:24},this.state.successSaving&&r.a.createElement(E.a,{message:"Successfully ".concat(this.state.editing?"updated":"saved"," user."),type:"success",closable:!0,afterClose:this.closeAlert,showIcon:!0}),this.state.errorSaving&&r.a.createElement(E.a,{message:"Error ".concat(this.state.editing?"updating":"saving"," user."),type:"error",closable:!0,afterClose:this.closeAlert,showIcon:!0}))),r.a.createElement(xe,null,r.a.createElement(I.a,{type:"primary",loading:this.state.loading,htmlType:"submit"},"Submit"))))}}]),t}(n.Component),Pe=N.a.create()(Fe),Te=(a(515),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).fetchUsers=function(){U.get("/users",a.setUsers)},a.setUsers=function(e){if(200===e.status){var t=e.data.users;a.setState({users:t})}},a.deleteResponse=function(){a.fetchUsers()},a.state={showDrawer:!1,users:[],isEditing:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchUsers()}},{key:"componentDidUpdate",value:function(e){if(this.props!==e){var t=this.props.match.params.id;void 0!==t?"new"===t?this.setState({showDrawer:!0,id:"new"}):this.setState({showDrawer:!0,id:t}):this.setState({showDrawer:!1,id:null})}}},{key:"animateDrawer",value:function(){this.setState({editing:!1}),this.props.history.push("/users")}},{key:"confirm",value:function(e){U.delete("/users",this.deleteResponse,e)}},{key:"cancel",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,"Users"),r.a.createElement(f.a,{to:"/users/new"},r.a.createElement(I.a,{className:"m-button",icon:"plus",type:"primary"},"New User")),r.a.createElement(Y,{showDrawer:this.state.showDrawer,callback:this.animateDrawer.bind(this)},r.a.createElement(Pe,{id:this.state.id,fetchUsers:this.fetchUsers})),this.state.users&&r.a.createElement(he.a,{grid:{gutter:16,xs:1,sm:2,md:4},dataSource:this.state.users,renderItem:function(t){return r.a.createElement(he.a.Item,null,r.a.createElement(fe.a,{title:"".concat(t.firstName," ").concat(t.lastName),extra:r.a.createElement("span",null,r.a.createElement(f.a,{to:"/users/edit/".concat(t._id)},r.a.createElement(l.a,{type:"form"})),r.a.createElement(H.a,{title:"Are you sure delete this task?",onConfirm:function(){return e.confirm(t._id)},onCancel:e.cancel,okText:"Yes",cancelText:"No",placement:"left"},r.a.createElement(l.a,{type:"delete",className:"delete-red"})))},t.isOwner&&r.a.createElement("div",{className:"user-is-owner"},"Owner:"," ",r.a.createElement("span",null,r.a.createElement(l.a,{type:"check"}))),r.a.createElement("div",{className:"user-email"},"Email: ",t.email),r.a.createElement("div",{className:"user-role"},"Role: ",t.role),r.a.createElement("div",{className:"user-work-phone"},"Work Phone: ",t.workPhone),r.a.createElement("div",{className:"user-mobile-phone"},"Mobile Phone: ",t.mobilePhone)))}}))}}]),t}(n.Component)),Re=function(e){function t(e){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("h1",null,"Account")}}]),t}(n.Component),Ue=(a(517),a(519),a(259)),Be=a(261),qe=a(91),Me=a(260),_e=a(156),Le=N.a.Item,Ve=N.a.create()(function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onCreate,s=e.form,i=e.title,o=s.getFieldDecorator;return r.a.createElement(Q.a,{visible:t,title:i,okText:"Create",onCancel:a,onOk:n},r.a.createElement(N.a,{layout:"vertical"},r.a.createElement(Le,{label:"Category"},o("category",{rules:[{required:!0,message:"Category cannot be blank"}]})(r.a.createElement(D.a,null)))))}}]),t}(r.a.Component)),Ye=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),s=Object(Me.a)(r,1)[0];return n.splice(a,0,s),n},ze=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onDragEnd=function(e){if(e.destination){var t=Ye(a.state.categories,e.source.index,e.destination.index);a.setState({categories:t},function(){a.updateCategories()})}},a.updateCategories=function(){var e=a.state.id,t={_id:e,categories:a.state.categories};U.put("/categories",t,a.responseFromUpdatingCategories,e)},a.responseFromUpdatingCategories=function(e){200===e.status?a.notify("success"):a.notify("error")},a.removeCategory=function(e){var t=(t=a.state.categories).filter(function(a){return a!==t[e]});a.setState({categories:t},function(){a.updateCategories()})},a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.formRef.props.form;e.validateFields(function(t,n){if(!t){var r=a.state.categories,s=Object(Be.a)(r).concat([n.category]);a.setState({categories:s},function(){a.updateCategories()}),e.resetFields(),a.setState({visible:!1})}})},a.saveFormRef=function(e){a.formRef=e},a.state={categories:a.props.categories,id:a.props.id,categoryName:a.props.categoryName},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"notify",value:function(e){var t="success"===e?"Updated categories.":"Categories were not updated",a="success"===e?"Success":"Error";Ue.a[e]({message:a,description:t})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"category-name"},this.props.categoryName,r.a.createElement(l.a,{size:"12",type:"plus",onClick:this.showModal,style:{float:"right"}})),r.a.createElement(O.a,null),r.a.createElement(_e.a,{onDragEnd:this.onDragEnd},r.a.createElement(_e.c,{droppableId:this.state.id},function(t,a){return r.a.createElement("div",{ref:t.innerRef},e.state.categories.map(function(t,a){return r.a.createElement(_e.b,{key:t,draggableId:t,index:a},function(n,s){return r.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{style:(i=s.isDragging,o=n.draggableProps.style,Object(qe.a)({userSelect:"none",borderStyle:i?"dashed":"solid"},o)),className:"item"}),t,r.a.createElement("div",{style:{float:"right"}},r.a.createElement(H.a,{title:"Are you sure delete this category?",placement:"topRight",onConfirm:function(){return e.removeCategory(a)},okText:"Yes",cancelText:"No"},r.a.createElement(l.a,{style:{color:"red"},type:"delete"}))));var i,o})}),t.placeholder)})),r.a.createElement(Ve,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,title:"New category for ".concat(this.state.categoryName)}))}}]),t}(n.Component),He=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).fetchAllCategories=function(){U.get("/categories",a.responseFromFetchAllCategories)},a.responseFromFetchAllCategories=function(e){if(200===e.status){var t=e.data;a.setState({categories:t})}},a.categoryColumns=function(){if(a.state.categories.length)return a.state.categories.map(function(e,t){return r.a.createElement("div",{className:"cat-col",key:t},r.a.createElement(ze,{id:e._id,categoryName:e.name,categories:e.categories}))})},a.state={categories:[],isEditing:!1,inputValue:"",inputVisible:!1,currentInputId:""},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchAllCategories()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Categories"),this.categoryColumns())}}]),t}(n.Component),$e=function(e){function t(e){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("h1",null,"Goals")}}]),t}(n.Component),Ke=N.a.Item,We=N.a.create({onFieldsChange:function(e,t){e.onChange(t)},mapPropsToFields:function(e){return{amount:N.a.createFormField(Object(qe.a)({},e.amount,{value:e.amount.value})),categories:N.a.createFormField(Object(qe.a)({},e.categories,{value:e.categories.value})),category:N.a.createFormField(Object(qe.a)({},e.category,{value:e.category.value}))}},onValuesChange:function(e,t){console.log(t)}})(function(e){var t=e.form.getFieldDecorator;return console.log(e),r.a.createElement(N.a,{onSubmit:function(){return e.handleSubmit()}},r.a.createElement(Ke,{label:"Budgeted Amount",required:!0},t("amount",{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Budget Amount cannot be blank"}]})(r.a.createElement(D.a,null))),r.a.createElement(Ke,{label:"Category",required:!0},t("category",{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Category cannot be blank"}]})(r.a.createElement(k.a,null,e.categories.map(function(e,t){return r.a.createElement(k.a.Option,{key:t,value:e},e)})))),r.a.createElement(Ke,null,r.a.createElement(I.a,{type:"primary",htmlType:"submit"},"Save")))}),Qe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={fields:{categories:["test","1","2"],category:{value:""},amount:{value:""}}},a.handleFormChange=function(e){a.setState(function(t){var a=t.fields;return{fields:Object(qe.a)({},a,e)}})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"handleSubmit",value:function(e){e.preventDefault(),console.log(e)}},{key:"render",value:function(){var e=this.state.fields;return r.a.createElement("div",null,r.a.createElement(We,Object.assign({},e,{onChange:this.handleFormChange,handleSubmit:this.handleSubmit.bind(this)})),r.a.createElement("pre",{className:"language-bash"},JSON.stringify(e,null,2)))}}]),t}(r.a.Component),Je=(a(237),N.a.Item),Ge=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){if(!e){var n={email:t.email,password:t.password};a.loadingTrue(),U.post("/signin",n,a.networkResponse)}})},a.loadingTrue=function(){a.setState({loading:!0})},a.loadingFalse=function(){a.setState({loading:!1})},a.networkResponse=function(e){a.loadingFalse(),e.status&&(401===e.status?a.setState({errorSigningIn:!0,serverErrors:"Please check your email and password"}):201!==e.status&&200!==e.status||(localStorage.setItem("token",e.data.token),a.setState({successfulSignIn:!0,errorSigningIn:!1,serverSuccess:"Successfully signed in"}),window.location.href="/dashboard"))},a.closeAlert=function(){a.setState({successfulSignIn:!1,errorSigningIn:!1})},a.state={confirmDirty:!1,successfulSignIn:!1,errorSigningIn:!1,serverErrors:"",serverSuccess:""},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(N.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(Je,null,e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(D.a,null))),r.a.createElement(Je,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(D.a,{prefix:r.a.createElement(l.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(Je,null,e("remember",{valuePropName:"checked",initialValue:!0})(r.a.createElement(ye.a,null,"Remember me")),r.a.createElement("a",{className:"login-form-forgot",href:""},"Forgot password"),r.a.createElement(w.a,null,r.a.createElement(S.a,null,this.state.successfulSignIn&&r.a.createElement(E.a,{message:this.state.serverSuccess,type:"success",closable:!0,afterClose:this.closeAlert,showIcon:!0}),this.state.errorSigningIn&&r.a.createElement(E.a,{message:this.state.serverErrors,type:"error",closable:!0,afterClose:this.closeAlert,showIcon:!0}))),r.a.createElement(I.a,{type:"primary",loading:this.state.loading,htmlType:"submit",className:"login-form-button"},"Sign In"),"Or ",r.a.createElement("a",{href:"/register"},"register now!")))}}]),t}(r.a.Component),Xe=N.a.create()(Ge),Ze=N.a.Item,et=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){if(!e){var n={account:t.name,name:t.name,email:t.email,password:t.password};a.loadingTrue(),U.post("/signup",n,a.networkResponse)}})},a.loadingTrue=function(){a.setState({loading:!0})},a.loadingFalse=function(){a.setState({loading:!1})},a.networkResponse=function(e){a.loadingFalse(),e.status&&(500===e.status?a.setState({errorRegisteringAccount:!0,serverErrors:e.data.toString()}):201!==e.status&&200!==e.status||(localStorage.setItem("token",e.data.token),a.setState({successRegisteringAccount:!0,errorRegisteringAccount:!1,serverSuccess:"Successfully created account"}),window.location.href="/dashboard"))},a.closeAlert=function(){a.setState({successRegisteringAccount:!1,errorRegisteringAccount:!1})},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},a.validateToNextPassword=function(e,t,n){var r=a.props.form;t&&a.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},a.state={confirmDirty:!1,successRegisteringAccount:!1,errorRegisteringAccount:!1,serverErrors:"",serverSuccess:"",toDashboard:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},a={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};return r.a.createElement(N.a,{onSubmit:this.handleSubmit,id:"registration-form"},r.a.createElement(Ze,Object.assign({},t,{label:"Account Name"}),e("account",{rules:[{required:!0,message:"Please choose an account name"}]})(r.a.createElement(D.a,null))),r.a.createElement(Ze,Object.assign({},t,{label:"Name"}),e("name",{rules:[{required:!0,message:"Please fill in your name"}]})(r.a.createElement(D.a,null))),r.a.createElement(Ze,Object.assign({},t,{label:"E-mail"}),e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(D.a,null))),r.a.createElement(Ze,Object.assign({},t,{label:"Password"}),e("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(D.a,{type:"password"}))),r.a.createElement(Ze,Object.assign({},t,{label:"Confirm Password"}),e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(D.a,{type:"password",onBlur:this.handleConfirmBlur}))),r.a.createElement(Ze,a,e("agreement",{rules:[{required:!0,message:"Please agree to our term of service"}],valuePropName:"checked"})(r.a.createElement(ye.a,null,"I have read the ",r.a.createElement("a",{href:""},"agreement")))),r.a.createElement(w.a,null,r.a.createElement(S.a,{span:24},this.state.successRegisteringAccount&&r.a.createElement(E.a,{message:this.state.serverSuccess,type:"success",closable:!0,afterClose:this.closeAlert,showIcon:!0}),this.state.errorRegisteringAccount&&r.a.createElement(E.a,{message:this.state.serverErrors,type:"error",closable:!0,afterClose:this.closeAlert,showIcon:!0}))),r.a.createElement(Ze,a,r.a.createElement(I.a,{type:"primary",loading:this.state.loading,htmlType:"submit"},"Register"),r.a.createElement("br",null),"Or ",r.a.createElement("a",{href:"/signin"},"Sign In")))}}]),t}(n.Component),tt=N.a.create()(et),at=(a(238),a(152)),nt=a(257),rt=h.a.Header,st=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){a.checkForUser()},a.checkForUser=function(){U.get("/current-user",a.setCurrentUser)},a.setCurrentUser=function(e){if(e&&200===e.status){var t=e.data.user;a.setState({user:t})}},a.name=function(){if(a.state.user)return"".concat(a.state.user.firstName," ").concat(a.state.user.lastName)},a.profileLink=function(){if(a.state.user)return r.a.createElement(f.a,{to:"/profile/".concat(a.state.user._id)},r.a.createElement(l.a,{type:"profile"})," Profile")},a.renderNav=function(){return nt.map(function(e,t){return r.a.createElement(o.a.Item,{key:t},r.a.createElement(f.a,{key:t,to:e.url,onClick:function(){return a.animateDrawer()}},e.location))})},a.state={user:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){this.props!==e&&this.checkForUser()}},{key:"animateDrawer",value:function(){var e=this.state.showDrawer;this.setState({showDrawer:!e})}},{key:"render",value:function(){var e=this,t=r.a.createElement(o.a,null,r.a.createElement(o.a.Item,null,r.a.createElement(f.a,{to:"/",onClick:function(){return e.props.signOut()}},r.a.createElement(l.a,{type:"logout"})," Sign Out")));return r.a.createElement(rt,null,r.a.createElement(at.a,{placement:"left",closable:!1,onClose:function(){return e.animateDrawer()},visible:this.state.showDrawer},r.a.createElement(o.a,{mode:"inline"},this.renderNav())),r.a.createElement(v.a,{query:"(min-width: 599px)"},function(t){return t?"":r.a.createElement("a",{href:"#!",onClick:function(){return e.animateDrawer()}},r.a.createElement(l.a,{type:"right",theme:"outlined"}))}),r.a.createElement("div",{style:{float:"right",marginRight:"20px"}},r.a.createElement(C.a,{overlay:t,trigger:["click"]},r.a.createElement("a",{className:"ant-dropdown-link",href:"#"},this.name()," ",r.a.createElement(l.a,{type:"down"})))))}}]),t}(n.Component),it=(a(536),a(262)),ot=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).fetchProjects=function(){U.get("/projects",a.setProjects)},a.setProjects=function(e){if(200===e.status){var t=e.data.projects;a.setState({projects:t}),a.doneLoading()}else a.doneLoading()},a.isLoading=function(){a.setState({isLoading:!0})},a.doneLoading=function(){a.setState({isLoading:!1})},a.showProjects=function(){return a.state.projects.length&&!a.state.isLoading?a.renderProjects(a.state.projects):0!==a.state.projects.length||a.state.isLoading?r.a.createElement(it.a,{active:!0}):"No Projects"},a.renderProjects=function(e){return r.a.createElement(_.a,{rowKey:function(e){return e._id},className:"project-table",dataSource:e,columns:a.buildColumns()})},a.dataSource=function(){},a.state={projects:[],isLoading:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchProjects(),this.isLoading()}},{key:"buildColumns",value:function(){return[{title:"Name",dataIndex:"name",key:"name",render:function(e,t){return r.a.createElement(f.a,{to:"/projects/".concat(t._id)},e)}},{title:"Description",dataIndex:"description",key:"description"}]}},{key:"render",value:function(){return r.a.createElement("div",{id:"projects"},r.a.createElement(f.a,{to:"/projects/new",className:"float-right right-link"},r.a.createElement(l.a,{type:"plus"})," New Project"),r.a.createElement("h1",null,"Projects"),this.showProjects())}}]),t}(n.Component),lt=N.a.Item,ct=D.a.TextArea,ut=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){a.props.project&&a.props.project._id&&a.getProject(a.props.project._id)},a.getProject=function(e){U.get("/projects/"+e,a.setProject)},a.setProject=function(e){if(e&&200===e.status){var t=e.data.project;a.setState({project:t}),a.props.form.setFieldsValue({name:t.name,description:t.description})}},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){if(!e){var n={};n.name=t.name,n.description=t.description,a.state.project?(n._id=a.state.project._id,U.put("/projects",n,a.networkResponse)):U.post("/projects",n,a.networkResponse)}})},a.networkResponse=function(e){e&&e.status&&(404===e.status||201!==e.status&&200!==e.status||(a.props.callback?a.props.callback():a.props.history.push("/projects/"+e.data.success._id)))},a.state={loading:!1,project:a.props.project||null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",null,r.a.createElement(N.a,{onSubmit:this.handleSubmit.bind(this)},r.a.createElement(w.a,{gutter:16},r.a.createElement(S.a,null,r.a.createElement(lt,{label:"Name",required:!0},e("name",{rules:[{required:!0,message:"Name cannot be blank"}]})(r.a.createElement(D.a,null)))),r.a.createElement(S.a,null,r.a.createElement(lt,{label:"Description"},e("description",{})(r.a.createElement(ct,null))))),r.a.createElement(lt,null,r.a.createElement(I.a,{type:"primary",loading:this.state.loading,htmlType:"submit"},"Save"))))}}]),t}(n.Component),mt=N.a.create()(ut),dt=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"New Project"),r.a.createElement(mt,this.props))}}]),t}(n.Component),pt=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Edit Project"),r.a.createElement(mt,this.props))}}]),t}(n.Component),ht=(a(539),N.a.Item),ft=k.a.Option,gt=0,bt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){a.props.areaId&&a.getArea(a.props.project._id)},a.getArea=function(e){e=a.props.project._id+"=="+a.props.areaId;U.get("/project-area/"+e,a.setArea)},a.setArea=function(e){if(e&&200===e.status){var t=e.data.area;a.setState({area:t}),a.props.form.setFieldsValue({label:t.label,unit:t.unit})}},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){if(!e){var n={};n.label=t.label,n.widths=t.width,n.lengths=t.length,n.heights=t.height,n.unit=t.unit,n.widths=n.widths.filter(function(e){return null!=e}),n.lengths=n.lengths.filter(function(e){return null!=e}),n.heights=n.heights.filter(function(e){return null!=e}),n.projectId=a.state.project._id,a.state.areaId?(n._id=a.state.areaId,U.put("/project-area",n,a.networkResponse)):U.post("/project-area",n,a.networkResponse)}})},a.networkResponse=function(e){e&&e.status&&(404===e.status||201!==e.status&&200!==e.status||a.props.callback())},a.add=function(){var e=a.props.form,t=e.getFieldValue("keys").concat(++gt);e.setFieldsValue({keys:t})},a.remove=function(e){var t=a.props.form,n=t.getFieldValue("keys");1!==n.length&&t.setFieldsValue({keys:n.filter(function(t){return t!==e})})},a.state={loading:!1,project:a.props.project,areaId:a.props.areaId||null,area:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form,a=t.getFieldDecorator,n=t.getFieldValue,s=this.state.area;a("keys",{initialValue:s?s.widths.map(function(e,t){return t}):[]});var i=n("keys"),o=i.map(function(t,n){return r.a.createElement("div",{key:n},r.a.createElement(w.a,{gutter:16},r.a.createElement(S.a,{xs:12,sm:6},r.a.createElement(ht,{label:"Width",required:!0},a("width[".concat(t,"]"),{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Width required"}],initialValue:s?s.widths[n]:null})(r.a.createElement(j.a,{placeholder:"Width"})))),r.a.createElement(S.a,{xs:12,sm:6},r.a.createElement(ht,{label:"Length",required:!0},a("length[".concat(t,"]"),{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Height required"}],initialValue:s?s.lengths[n]:null})(r.a.createElement(j.a,{placeholder:"Length"})))),r.a.createElement(S.a,{xs:12,sm:6},r.a.createElement(ht,{label:"Height",required:!1},a("height[".concat(t,"]"),{validateTrigger:["onChange","onBlur"],initialValue:s?s.heights[n]:null})(r.a.createElement(j.a,{placeholder:"Height"})))),r.a.createElement(S.a,{xs:12,sm:6},r.a.createElement(ht,null,i.length>1?r.a.createElement(I.a,{type:"danger",className:"dynamic-delete-button",disabled:1===i.length,onClick:function(){return e.remove(t)}},r.a.createElement(l.a,{type:"delete"}),"Remove"):null))))});return r.a.createElement("div",null,r.a.createElement(N.a,{onSubmit:this.handleSubmit.bind(this)},r.a.createElement(w.a,{gutter:16},r.a.createElement(S.a,{span:12},r.a.createElement(ht,{label:"Label",required:!0},a("label",{rules:[{required:!0,message:"label cannot be blank"}]})(r.a.createElement(D.a,null)))),r.a.createElement(S.a,{span:12},r.a.createElement(ht,{label:"Unit of measure",required:!0},a("unit",{rules:[{required:!0,message:"Name cannot be blank"}]})(r.a.createElement(k.a,null,["ea.","bx.","pc.","case","pallet","lb.","ft.","yds.","pt.","qt.","l.","gal."].map(function(e,t){return r.a.createElement(ft,{key:t,value:e},e)})))))),r.a.createElement(w.a,null,o),r.a.createElement(ht,null,r.a.createElement(I.a,{type:"dashed",onClick:this.add},r.a.createElement(l.a,{type:"plus"})," Add Dimensions")),r.a.createElement(ht,null,r.a.createElement(I.a,{type:"primary",loading:this.state.loading,htmlType:"submit"},"Save"))))}}]),t}(n.Component),vt=N.a.create()(bt),yt=function(e){function t(e){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"New Area"),r.a.createElement(vt,this.props))}}]),t}(n.Component),Et=function(e){function t(e){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Edit Area"),r.a.createElement(vt,this.props))}}]),t}(n.Component),wt=N.a.Item,kt=(k.a.Option,function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){a.props.costId&&a.getCost()},a.componentDidUpdate=function(e){!1===a.props.showDrawer&&null===a.props.costId&&a.props.form.resetFields(),a.props.costId!==e.costId&&null!==a.props.costId&&(console.log("test"),a.getCost())},a.getCost=function(e){e=a.props.projectId+"=="+a.props.areaId+"=="+a.props.costId;U.get("/area-cost/"+e,a.setCost)},a.setCost=function(e){if(e&&200===e.status){var t=e.data.cost;a.setState({costId:t._id}),a.props.form.setFieldsValue({material:t.material,location:t.location,pricePerUnit:t.pricePerUnit})}},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){if(!e){var n={};n.material=t.material,n.location=t.location,n.pricePerUnit=t.pricePerUnit,n.ids=a.props.projectId+"=="+a.props.areaId,a.state.costId?(n._id=a.state.costId,U.put("/area-cost",n,a.networkResponse)):U.post("/area-cost",n,a.networkResponse)}})},a.networkResponse=function(e){e&&e.status&&(404===e.status||201!==e.status&&200!==e.status||a.props.callback(a.props.form))},a.state={loading:!1,projectId:a.props.projectId,areaId:a.props.areaId,costId:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator;e.getFieldValue;return r.a.createElement("div",null,r.a.createElement(N.a,{onSubmit:this.handleSubmit.bind(this)},r.a.createElement(w.a,{gutter:16},r.a.createElement(S.a,{span:24},r.a.createElement(wt,{label:"Material",required:!0},t("material",{rules:[{required:!0,message:"Material cannot be blank"}]})(r.a.createElement(D.a,null)))),r.a.createElement(S.a,{span:24},r.a.createElement(wt,{label:"Location/URL"},t("location",{})(r.a.createElement(D.a,null)))),r.a.createElement(S.a,{span:6},r.a.createElement(wt,{label:"Price per unit",required:!0},t("pricePerUnit",{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Price per unit cannot be blank"}]})(r.a.createElement(j.a,null))))),r.a.createElement(wt,null,r.a.createElement(I.a,{type:"primary",loading:this.state.loading,htmlType:"submit"},"Save"))))}}]),t}(n.Component)),jt=N.a.create()(kt),St=function(e){function t(e){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"New Cost"),r.a.createElement(jt,this.props))}}]),t}(n.Component),Dt=function(e){function t(e){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Edit Cost"),r.a.createElement(jt,this.props))}}]),t}(n.Component),Ot=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).fetchCost=function(){var e=a.props.projectId+"=="+a.props.area._id;U.get("/area-costs",a.setCost,e)},a.setCost=function(e){if(e&&200===e.status){var t=e.data.costs;a.setState({costs:t})}},a.removeCost=function(e){var t=a.props.projectId+"=="+a.props.area._id+"=="+e;U.delete("/cost-delete",a.deleteAreaResponse,t)},a.deleteAreaResponse=function(e){e&&200===e.status&&a.fetchCost()},a.renderCosts=function(){return a.state.costs.length?a.state.costs.map(function(e,t){return r.a.createElement("div",{key:t},e.material," at ",e.pricePerUnit," per square ",a.props.area.unit," will cost"," ",x(e.pricePerUnit*a.state.totalArea),r.a.createElement(l.a,{type:"form",style:{margin:"10px 0 0 10px"},onClick:function(){return a.editCost(e._id)}}),r.a.createElement(H.a,{title:"Are you sure delete this project?",onConfirm:function(){return a.removeCost(e._id)},onCancel:a.cancel,okText:"Yes",cancelText:"No"},r.a.createElement(l.a,{type:"delete",style:{margin:"10px 0 0 10px"}})))}):r.a.createElement("div",null,"Start your cost analysis.")},a.editCost=function(e){a.setState({costId:e},function(){a.animateForm()})},a.animateForm=function(){var e=a.state.showDrawer;a.setState({showDrawer:!e})},a.animateNewForm=function(){a.setState({costId:null},function(){a.animateForm()})},a.costDrawer=function(){return r.a.createElement(Y,{showDrawer:a.state.showDrawer,callback:a.animateForm},a.newOrEditArea())},a.newOrEditArea=function(){var e=a.props.area._id,t=a.props.projectId;return null!==a.state.costId?r.a.createElement(Dt,{areaId:e,projectId:t,costId:a.state.costId,callback:a.closeDrawerAndReload,showDrawer:a.state.showDrawer}):r.a.createElement(St,{areaId:e,projectId:t,costId:null,callback:a.closeDrawerAndReload,showDrawer:a.state.showDrawer})},a.closeDrawerAndReload=function(){var e=a.state.showDrawer;a.setState({showDrawer:!e,costId:null}),a.fetchCost()},a.state={costs:a.props.cost||[],totalArea:a.props.totalArea,showDrawer:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.costDrawer(),r.a.createElement(O.a,null),r.a.createElement(I.a,{className:"float-right",onClick:this.animateNewForm},r.a.createElement(l.a,{type:"plus"}),"Cost Analysis"),r.a.createElement("h3",null,"Cost Analysis"),this.renderCosts())}}]),t}(n.Component),Ct=I.a.Group,It=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).componentDidUpdate=function(e){a.props.area!==e.area&&a.getArea(a.props.area._id)},a.getArea=function(e){var t=a.props.project._id+"=="+e;U.get("/project-area",a.setArea,t)},a.setArea=function(e){if(e&&200===e.status){var t=e.data.area;a.setState({area:t})}},a.renderArea=function(){if(a.state.area){var e=a.state.area;return r.a.createElement("div",{className:"proj-card"},r.a.createElement(fe.a,{title:e.label,extra:r.a.createElement(Ct,{className:"float-right"},r.a.createElement(I.a,{size:"small",onClick:function(){return a.editArea(e._id)}},r.a.createElement(l.a,{type:"form"})),r.a.createElement(H.a,{title:"Are you sure delete this project?",onConfirm:function(){return a.removeArea(e._id)},onCancel:a.cancel,okText:"Yes",cancelText:"No"},r.a.createElement(I.a,{size:"small",type:"danger"},r.a.createElement(l.a,{type:"delete"}))))},r.a.createElement("div",{className:"dimensions"},a.dimensionsView(e)),r.a.createElement("div",{className:"area-total"},"Total: ",a.calculateArea(e)," ",e.unit),r.a.createElement("div",null,a.costAnalysis(e))))}},a.costAnalysis=function(e){var t=a.props.project,n=a.props.area;return r.a.createElement(Ot,{cost:e.cost,totalArea:a.calculateArea(e),area:n,projectId:t._id})},a.dimensionsView=function(e){for(var t=[],a=e.widths.length,n=0;n<a;)t.push(r.a.createElement("div",{key:n},r.a.createElement("span",null,e.widths[n]," ",e.unit),r.a.createElement("span",null," X "),r.a.createElement("span",null,e.lengths[n]," ",e.unit))),n++;return t},a.calculateArea=function(e){for(var t=e.widths.length,a=0,n=0;a<t;)n+=e.widths[a]*e.lengths[a],a++;return n},a.editArea=function(e){a.props.editArea(e)},a.removeArea=function(e){a.props.removeArea(e)},a.state={area:a.props.area,total:0},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.renderArea()}}]),t}(n.Component),Nt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).fetchProject=function(){var e=a.state.id;U.get("/projects",a.setProject,e)},a.setProject=function(e){if(e&&200===e.status){var t=e.data.project;a.setState({project:t})}},a.confirm=function(){var e=a.state.project._id;U.delete("/projects",a.deleteResponse,e)},a.deleteResponse=function(){a.props.history.push("/projects")},a.cancel=function(){},a.animateDrawer=function(){var e=a.state.showDrawer;a.setState({showDrawer:!e})},a.animateAreaForm=function(){var e=a.state.showAreaDrawer;a.setState({showAreaDrawer:!e,areaId:null})},a.closeDrawerAndReloadProject=function(){a.setState({showDrawer:!1,areaId:null}),a.fetchProject()},a.closeAreaDrawerAndReloadProject=function(){a.setState({showAreaDrawer:!1,areaId:null}),a.fetchProject()},a.editDrawer=function(){if(a.state.project)return r.a.createElement(Y,{showDrawer:a.state.showDrawer,callback:a.animateDrawer},r.a.createElement(pt,{project:a.state.project,callback:a.closeDrawerAndReloadProject}))},a.areaDrawer=function(){if(a.state.project)return r.a.createElement(Y,{showDrawer:a.state.showAreaDrawer,callback:a.animateAreaForm},a.newOrEditArea())},a.newOrEditArea=function(){return null!==a.state.areaId?r.a.createElement(Et,{project:a.state.project,areaId:a.state.areaId,callback:a.closeAreaDrawerAndReloadProject}):r.a.createElement(yt,{project:a.state.project,callback:a.closeAreaDrawerAndReloadProject})},a.areas=function(){if(a.state.project){var e=a.state.project.areas,t=a.state.project;return e.map(function(e,n){return r.a.createElement(It,{project:t,area:e,key:n,removeArea:a.removeArea,editArea:a.editArea})})}},a.removeArea=function(e){var t=a.state.project._id+"=="+e;U.delete("/area-delete",a.deleteAreaResponse,t)},a.deleteAreaResponse=function(e){e&&200===e.status&&a.fetchProject()},a.editArea=function(e){a.setState({areaId:e},function(){a.setState({showAreaDrawer:!0})})},a.state={project:null,showDrawer:!1,showAreaDrawer:!1,areaId:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.match.params.id){var t=this.props.match.params.id;t&&this.setState({id:t},function(){e.fetchProject()})}}},{key:"projectHead",value:function(){var e=this;if(this.state.project){var t=this.state.project;return r.a.createElement("div",null,r.a.createElement("h1",{className:"float-left"},t.name),r.a.createElement(I.a,{size:"small",type:"",style:{margin:"10px 0 0 10px"},onClick:function(){return e.animateDrawer()}},r.a.createElement(l.a,{type:"form"})),r.a.createElement(H.a,{title:"Are you sure delete this project?",onConfirm:this.confirm,onCancel:this.cancel,okText:"Yes",cancelText:"No"},r.a.createElement(I.a,{size:"small",type:"danger",style:{margin:"10px 0 0 10px"}},r.a.createElement(l.a,{type:"delete"}))))}return r.a.createElement("h1",null,"Budget Not found :(")}},{key:"render",value:function(){return r.a.createElement("div",null,this.areaDrawer(),r.a.createElement("div",null,r.a.createElement(I.a,{className:"link",onClick:this.animateAreaForm},r.a.createElement(l.a,{type:"plus"}),"Add Area"),this.projectHead(),r.a.createElement(O.a,null),this.editDrawer(),this.areas()))}}]),t}(n.Component),xt=N.a.Item,At=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).setUpCategories=function(e){if(e&&200===e.status){var t=e.data.filter(function(e){return"receipt"===e.name});a.setState({categories:t[0].categories})}},a.checkForId=function(){var e=a.props.id;e&&"new"!==e&&(U.get("/receipts",a.getReceipts,e),a.setState({id:e}))},a.getReceipts=function(e){if(e&&200===e.status){var t=e.data.receipt;a.setState({receipt:t}),a.props.form.setFieldsValue({business:t.business,amount:t.amount,purchaseDate:X()(t.purchaseDate),category:t.category})}},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){if(e)console.log(e),a.loadingFalse();else{var n={};n.business=t.business,n.amount=t.amount,n.purchaseDate=t.purchaseDate.toDate(),n.category=t.category,a.loadingTrue(),a.state.id?(n._id=a.state.id,U.put("/receipts",n,a.networkResponse)):U.post("/receipts",n,a.networkResponse)}})},a.networkResponse=function(e){a.loadingFalse(),e&&e.status&&(404===e.status||201!==e.status&&200!==e.status||a.props.closeDrawerAndReloadView())},a.loadingTrue=function(){a.setState({loading:!0})},a.loadingFalse=function(){a.setState({loading:!1})},a.state={categories:[],receipt:null,loading:!1,editing:!1,receiptId:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){U.get("/categories",this.setUpCategories),this.checkForId()}},{key:"componentDidUpdate",value:function(e){this.props.id!==e.id&&("new"===this.props.id||null===this.props.id?(this.setState({editing:!1,receipt:{}}),this.props.form.resetFields()):this.checkForId())}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",null,r.a.createElement(N.a,{onSubmit:this.handleSubmit.bind(this)},r.a.createElement(w.a,{gutter:16},r.a.createElement(S.a,{sm:24},r.a.createElement(xt,{label:"Business"},e("business",{})(r.a.createElement(D.a,{min:0}))))),r.a.createElement(w.a,{gutter:16},r.a.createElement(S.a,{sm:12},r.a.createElement(xt,{label:"Amount"},e("amount",{validateTrigger:["onChange"],rules:[{required:!0,message:"Amount cannot be blank"}]})(r.a.createElement(j.a,{min:0})))),r.a.createElement(S.a,{sm:12},r.a.createElement(xt,{label:"Purchase Date"},e("purchaseDate",{validateTrigger:["onChange"],rules:[{required:!0,message:"Category cannot be blank"}]})(r.a.createElement(J.a,null))))),r.a.createElement(w.a,{gutter:16},r.a.createElement(S.a,{span:12},r.a.createElement(xt,{label:"Category"},e("category")(r.a.createElement(k.a,null,this.state.categories.map(function(e,t){return r.a.createElement(k.a.Option,{key:t,value:e},e)})))))),r.a.createElement(xt,null,r.a.createElement(I.a,{type:"primary",loading:this.state.loading,htmlType:"submit"},"Submit"))))}}]),t}(n.Component),Ft=N.a.create()(At),Pt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){a.fetchReceipts()},a.fetchReceipts=function(){U.get("/receipts",a.setReceipts)},a.setReceipts=function(e){if(e&&200===e.status){var t=e.data.receipts;a.setState({receipts:t})}},a.animateDrawer=function(){var e=a.state.showDrawer;a.setState({showDrawer:!e})},a.goToIndex=function(){a.props.history.push("/receipts")},a.showReceipts=function(){return a.state.receipts.length?r.a.createElement(_.a,{rowKey:function(e){return e._id},dataSource:a.state.receipts,columns:a.buildColumns()}):"No Rreceipts"},a.confirm=function(e){U.delete("/receipts",a.deleteResponse,e)},a.deleteResponse=function(){a.fetchReceipts()},a.closeDrawerAndReloadView=function(){a.animateDrawer(),a.fetchReceipts()},a.state={showDrawer:!1,receipts:[]},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){if(this.props!==e){var t=this.props.match.params.id;void 0!==t?"new"===t?this.setState({showDrawer:!0,id:"new"}):this.setState({showDrawer:!0,id:t}):this.setState({showDrawer:!1,id:null})}}},{key:"buildColumns",value:function(){var e=this;return[{title:"Business",dataIndex:"business",key:"business",render:function(e,t){return r.a.createElement(f.a,{to:"/receipts/edit/".concat(t._id)},e)}},{key:"category",title:"Category",dataIndex:"category"},{key:"purchaseDate",title:"Purchase Date",dataIndex:"purchaseDate",render:function(e,t){return t.purchaseDate?X()(t.purchaseDate).format("MM/DD/YYYY"):"N/A"}},{key:"amount",title:"Amount",dataIndex:"amount",render:function(e){return e&&"$".concat(e)}},{key:"remove",title:"Remove",render:function(t,a){return r.a.createElement(H.a,{title:"Are you sure delete this?",onConfirm:function(){return e.confirm(a._id)},onCancel:e.cancel,okText:"Yes",cancelText:"No",placement:"left"},r.a.createElement(l.a,{type:"delete",className:"delete-red"}))}}]}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(at.a,{title:"New Receipt",placement:"right",width:"50%",closable:!0,onClose:this.goToIndex,visible:this.state.showDrawer},r.a.createElement(Ft,{id:this.state.id,closeDrawerAndReloadView:this.closeDrawerAndReloadView})),r.a.createElement(f.a,{to:"/receipts/new",className:"float-right right-link"},r.a.createElement(I.a,{className:"m-button",icon:"plus",type:"primary"},"New Receipt")),r.a.createElement("h1",null,"Receipts"),this.showReceipts())}}]),t}(n.Component),Tt=function(){return r.a.createElement("h2",null,"Home")},Rt=function(e){e.location;return r.a.createElement("div",null,r.a.createElement("h3",null,"404"))},Ut=h.a.Header,Bt=h.a.Content,qt=h.a.Footer,Mt=h.a.Sider,_t=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).getUrl=function(){return"/"+window.location.pathname.split("/")[1]},a.onCollapse=function(e){a.setState({collapsed:e})},a.signOut=function(){a.setState({authenticated:!1}),localStorage.clear()},a.state={collapsed:!1,currentUlr:a.getUrl(),authenticated:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("token")&&this.setState({authenticated:!0,currentUlr:this.getUrl()})}},{key:"componentDidUpdate",value:function(e,t){localStorage.getItem("token")&&!this.state.authenticated&&this.setState({authenticated:!0})}},{key:"renderAdmin",value:function(){var e=this;return r.a.createElement(h.a,{style:{minHeight:"100vh"}},r.a.createElement(v.a,{query:"(min-width: 599px)"},function(t){return t?r.a.createElement(Mt,{collapsible:!0,collapsed:e.state.collapsed,onCollapse:e.onCollapse},r.a.createElement(Ut,null),r.a.createElement(o.a,{theme:"dark",defaultSelectedKeys:[e.state.currentUlr],mode:"inline"},r.a.createElement(o.a.Item,{key:"/dashboard"},r.a.createElement(f.a,{to:"/dashboard"},r.a.createElement(l.a,{type:"dashboard"}),r.a.createElement("span",null,"Dashboard"))),r.a.createElement(o.a.Item,{key:"/receipts"},r.a.createElement(f.a,{to:"/receipts"},r.a.createElement(l.a,{type:"barcode"}),r.a.createElement("span",null,"Receipts"))),r.a.createElement(o.a.Item,{key:"/budgets"},r.a.createElement(f.a,{to:"/budgets"},r.a.createElement(l.a,{type:"pie-chart"}),r.a.createElement("span",null,"Budgets"))),r.a.createElement(o.a.Item,{key:"/debts"},r.a.createElement(f.a,{to:"/debts"},r.a.createElement(l.a,{type:"line-chart"}),r.a.createElement("span",null,"Debts"))),r.a.createElement(o.a.Item,{key:"/projects"},r.a.createElement(f.a,{to:"/projects"},r.a.createElement(l.a,{type:"tool"}),r.a.createElement("span",null,"Projects"))),r.a.createElement(o.a.Item,{key:"/lists"},r.a.createElement(f.a,{to:"/lists"},r.a.createElement(l.a,{type:"bars"}),r.a.createElement("span",null,"Lists"))),r.a.createElement(o.a.Item,{key:"/tasks"},r.a.createElement(f.a,{to:"/tasks"},r.a.createElement(l.a,{type:"tool"}),r.a.createElement("span",null,"Tasks"))),r.a.createElement(o.a.Item,{key:"/inventory"},r.a.createElement(f.a,{to:"/inventory"},r.a.createElement(l.a,{type:"barcode"}),r.a.createElement("span",null,"Inventory"))),r.a.createElement(o.a.SubMenu,{key:"Settings",title:r.a.createElement("span",null,r.a.createElement(l.a,{type:"setting"}),r.a.createElement("span",null,"Settings"))},r.a.createElement(o.a.Item,{key:"/account"},r.a.createElement(f.a,{to:"/account"},r.a.createElement(l.a,{type:"idcard"}),r.a.createElement("span",null,"Account"))),r.a.createElement(o.a.Item,{key:"/users"},r.a.createElement(f.a,{to:"/users"},r.a.createElement(l.a,{type:"user"}),r.a.createElement("span",null,"Users"))),r.a.createElement(o.a.Item,{key:"/categories"},r.a.createElement(f.a,{to:"/categories"},r.a.createElement(l.a,{type:"tags"}),r.a.createElement("span",null,"Categories")))))):""}),r.a.createElement(h.a,null,r.a.createElement(st,{signOut:this.signOut}),r.a.createElement(Bt,{style:{margin:"0 16px"}},r.a.createElement(g.a,null,r.a.createElement(b.a,{exact:!0,path:"/dashboard",component:y}),r.a.createElement(b.a,{exact:!0,path:"/budgets/new",component:M}),r.a.createElement(b.a,{exact:!0,path:"/budgets/:id",component:ae}),r.a.createElement(b.a,{exact:!0,path:"/budgets/edit/:id",component:W}),r.a.createElement(b.a,{exact:!0,path:"/budgets",component:z}),r.a.createElement(b.a,{exact:!0,path:"/debts/:id",component:le}),r.a.createElement(b.a,{exact:!0,path:"/debts",component:oe}),r.a.createElement(b.a,{exact:!0,path:"/calendar",component:ve}),r.a.createElement(b.a,{exact:!0,path:"/lists/edit/:id",component:Se}),r.a.createElement(b.a,{exact:!0,path:"/lists/:id",component:Se}),r.a.createElement(b.a,{exact:!0,path:"/lists",component:Se}),r.a.createElement(b.a,{exact:!0,path:"/inventory/edit/:id",component:be}),r.a.createElement(b.a,{exact:!0,path:"/inventory/:id",component:be}),r.a.createElement(b.a,{exact:!0,path:"/inventory",component:be}),r.a.createElement(b.a,{exact:!0,path:"/tasks/edit/id",component:Ne}),r.a.createElement(b.a,{exact:!0,path:"/tasks/:id",component:Ne}),r.a.createElement(b.a,{exact:!0,path:"/tasks",component:Ne}),r.a.createElement(b.a,{exact:!0,path:"/users/edit/:id",component:Te}),r.a.createElement(b.a,{exact:!0,path:"/users/:id",component:Te}),r.a.createElement(b.a,{exact:!0,path:"/users",component:Te}),r.a.createElement(b.a,{exact:!0,path:"/account",component:Re}),r.a.createElement(b.a,{exact:!0,path:"/categories",component:He}),r.a.createElement(b.a,{exact:!0,path:"/goals",component:$e}),r.a.createElement(b.a,{exact:!0,path:"/projects/new",component:dt}),r.a.createElement(b.a,{exact:!0,path:"/projects/edit/:id",component:pt}),r.a.createElement(b.a,{exact:!0,path:"/projects/:id",component:Nt}),r.a.createElement(b.a,{exact:!0,path:"/projects",component:ot}),r.a.createElement(b.a,{exact:!0,path:"/receipts/edit/:id",component:Pt}),r.a.createElement(b.a,{exact:!0,path:"/receipts/:id",component:Pt}),r.a.createElement(b.a,{exact:!0,path:"/receipts",component:Pt}),r.a.createElement(b.a,{exact:!0,path:"/sandbox",component:Qe}))),r.a.createElement(qt,{style:{textAlign:"center"}})))}},{key:"renderPublicHeader",value:function(){return r.a.createElement("header",{id:"public-header"},r.a.createElement("div",{id:"logo"},"Logo here"),r.a.createElement("div",{id:"to-admin"},r.a.createElement(f.a,{to:"signin"},"Sign In"),r.a.createElement(f.a,{to:"register"},"Sign Up")))}},{key:"renderPublicFooter",value:function(){return r.a.createElement("footer",{id:"public-footer"},"links")}},{key:"renderPublic",value:function(){return r.a.createElement("div",null,this.renderPublicHeader(),r.a.createElement("div",{id:"public-main"},r.a.createElement(g.a,null,r.a.createElement(b.a,{exact:!0,path:"/",component:Tt}),r.a.createElement(b.a,{exact:!0,path:"/signin",component:Xe}),r.a.createElement(b.a,{exact:!0,path:"/register",component:tt}),r.a.createElement(b.a,{component:Rt}))),this.renderPublicFooter())}},{key:"render",value:function(){return this.state.authenticated?this.renderAdmin():this.renderPublic()}}]),t}(n.Component),Lt=a(545),Vt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Yt(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(Lt.a,null,r.a.createElement(_t,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Vt?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Yt(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Yt(e)})}}()}},[[263,2,1]]]);
//# sourceMappingURL=main.5b900ca6.chunk.js.map